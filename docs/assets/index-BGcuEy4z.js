(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var En="http://www.w3.org/1999/xhtml";const lr={svg:"http://www.w3.org/2000/svg",xhtml:En,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rn(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),lr.hasOwnProperty(e)?{space:lr[e],local:n}:n}function Ho(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===En&&e.documentElement.namespaceURI===En?e.createElement(n):e.createElementNS(r,n)}}function Vo(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function wi(n){var e=rn(n);return(e.local?Vo:Ho)(e)}function Yo(){}function Hn(n){return n==null?Yo:function(){return this.querySelector(n)}}function Go(n){typeof n!="function"&&(n=Hn(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],s=a.length,u=i[o]=new Array(s),f,l,h=0;h<s;++h)(f=a[h])&&(l=n.call(f,f.__data__,h,a))&&("__data__"in f&&(l.__data__=f.__data__),u[h]=l);return new at(i,this._parents)}function Wo(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function Xo(){return[]}function bi(n){return n==null?Xo:function(){return this.querySelectorAll(n)}}function Jo(n){return function(){return Wo(n.apply(this,arguments))}}function Qo(n){typeof n=="function"?n=Jo(n):n=bi(n);for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var s=e[a],u=s.length,f,l=0;l<u;++l)(f=s[l])&&(i.push(n.call(f,f.__data__,l,s)),o.push(f));return new at(i,o)}function Ai(n){return function(){return this.matches(n)}}function Si(n){return function(e){return e.matches(n)}}var Zo=Array.prototype.find;function Ko(n){return function(){return Zo.call(this.children,n)}}function ta(){return this.firstElementChild}function ea(n){return this.select(n==null?ta:Ko(typeof n=="function"?n:Si(n)))}var na=Array.prototype.filter;function ra(){return Array.from(this.children)}function ia(n){return function(){return na.call(this.children,n)}}function oa(n){return this.selectAll(n==null?ra:ia(typeof n=="function"?n:Si(n)))}function aa(n){typeof n!="function"&&(n=Ai(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],s=a.length,u=i[o]=[],f,l=0;l<s;++l)(f=a[l])&&n.call(f,f.__data__,l,a)&&u.push(f);return new at(i,this._parents)}function Ei(n){return new Array(n.length)}function sa(){return new at(this._enter||this._groups.map(Ei),this._parents)}function Be(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Be.prototype={constructor:Be,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function ua(n){return function(){return n}}function fa(n,e,r,i,o,a){for(var s=0,u,f=e.length,l=a.length;s<l;++s)(u=e[s])?(u.__data__=a[s],i[s]=u):r[s]=new Be(n,a[s]);for(;s<f;++s)(u=e[s])&&(o[s]=u)}function la(n,e,r,i,o,a,s){var u,f,l=new Map,h=e.length,c=a.length,d=new Array(h),p;for(u=0;u<h;++u)(f=e[u])&&(d[u]=p=s.call(f,f.__data__,u,e)+"",l.has(p)?o[u]=f:l.set(p,f));for(u=0;u<c;++u)p=s.call(n,a[u],u,a)+"",(f=l.get(p))?(i[u]=f,f.__data__=a[u],l.delete(p)):r[u]=new Be(n,a[u]);for(u=0;u<h;++u)(f=e[u])&&l.get(d[u])===f&&(o[u]=f)}function ca(n){return n.__data__}function ha(n,e){if(!arguments.length)return Array.from(this,ca);var r=e?la:fa,i=this._parents,o=this._groups;typeof n!="function"&&(n=ua(n));for(var a=o.length,s=new Array(a),u=new Array(a),f=new Array(a),l=0;l<a;++l){var h=i[l],c=o[l],d=c.length,p=da(n.call(h,h&&h.__data__,l,i)),_=p.length,m=u[l]=new Array(_),y=s[l]=new Array(_),g=f[l]=new Array(d);r(h,c,m,y,g,p,e);for(var w=0,b=0,v,x;w<_;++w)if(v=m[w]){for(w>=b&&(b=w+1);!(x=y[b])&&++b<_;);v._next=x||null}}return s=new at(s,i),s._enter=u,s._exit=f,s}function da(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function pa(){return new at(this._exit||this._groups.map(Ei),this._parents)}function ga(n,e,r){var i=this.enter(),o=this,a=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function _a(n){for(var e=n.selection?n.selection():n,r=this._groups,i=e._groups,o=r.length,a=i.length,s=Math.min(o,a),u=new Array(o),f=0;f<s;++f)for(var l=r[f],h=i[f],c=l.length,d=u[f]=new Array(c),p,_=0;_<c;++_)(p=l[_]||h[_])&&(d[_]=p);for(;f<o;++f)u[f]=r[f];return new at(u,this._parents)}function ya(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var i=n[e],o=i.length-1,a=i[o],s;--o>=0;)(s=i[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function ma(n){n||(n=va);function e(c,d){return c&&d?n(c.__data__,d.__data__):!c-!d}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var s=r[a],u=s.length,f=o[a]=new Array(u),l,h=0;h<u;++h)(l=s[h])&&(f[h]=l);f.sort(e)}return new at(o,this._parents).order()}function va(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function xa(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function wa(){return Array.from(this)}function ba(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null}function Aa(){let n=0;for(const e of this)++n;return n}function Sa(){return!this.node()}function Ea(n){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length,u;a<s;++a)(u=o[a])&&n.call(u,u.__data__,a,o);return this}function ka(n){return function(){this.removeAttribute(n)}}function Ca(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ia(n,e){return function(){this.setAttribute(n,e)}}function Ma(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function Oa(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function Ta(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function Ra(n,e){var r=rn(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?Ca:ka:typeof e=="function"?r.local?Ta:Oa:r.local?Ma:Ia)(r,e))}function ki(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Na(n){return function(){this.style.removeProperty(n)}}function Pa(n,e,r){return function(){this.style.setProperty(n,e,r)}}function Da(n,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function za(n,e,r){return arguments.length>1?this.each((e==null?Na:typeof e=="function"?Da:Pa)(n,e,r??"")):te(this.node(),n)}function te(n,e){return n.style.getPropertyValue(e)||ki(n).getComputedStyle(n,null).getPropertyValue(e)}function Fa(n){return function(){delete this[n]}}function $a(n,e){return function(){this[n]=e}}function Ua(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function La(n,e){return arguments.length>1?this.each((e==null?Fa:typeof e=="function"?Ua:$a)(n,e)):this.node()[n]}function Ci(n){return n.trim().split(/^|\s+/)}function Vn(n){return n.classList||new Ii(n)}function Ii(n){this._node=n,this._names=Ci(n.getAttribute("class")||"")}Ii.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Mi(n,e){for(var r=Vn(n),i=-1,o=e.length;++i<o;)r.add(e[i])}function Oi(n,e){for(var r=Vn(n),i=-1,o=e.length;++i<o;)r.remove(e[i])}function ja(n){return function(){Mi(this,n)}}function Ba(n){return function(){Oi(this,n)}}function qa(n,e){return function(){(e.apply(this,arguments)?Mi:Oi)(this,n)}}function Ha(n,e){var r=Ci(n+"");if(arguments.length<2){for(var i=Vn(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?qa:e?ja:Ba)(r,e))}function Va(){this.textContent=""}function Ya(n){return function(){this.textContent=n}}function Ga(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function Wa(n){return arguments.length?this.each(n==null?Va:(typeof n=="function"?Ga:Ya)(n)):this.node().textContent}function Xa(){this.innerHTML=""}function Ja(n){return function(){this.innerHTML=n}}function Qa(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Za(n){return arguments.length?this.each(n==null?Xa:(typeof n=="function"?Qa:Ja)(n)):this.node().innerHTML}function Ka(){this.nextSibling&&this.parentNode.appendChild(this)}function ts(){return this.each(Ka)}function es(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ns(){return this.each(es)}function rs(n){var e=typeof n=="function"?n:wi(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function is(){return null}function os(n,e){var r=typeof n=="function"?n:wi(n),i=e==null?is:typeof e=="function"?e:Hn(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function as(){var n=this.parentNode;n&&n.removeChild(this)}function ss(){return this.each(as)}function us(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function fs(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function ls(n){return this.select(n?fs:us)}function cs(n){return arguments.length?this.property("__data__",n):this.node().__data__}function hs(n){return function(e){n.call(this,e,this.__data__)}}function ds(n){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function ps(n){return function(){var e=this.__on;if(e){for(var r=0,i=-1,o=e.length,a;r<o;++r)a=e[r],(!n.type||a.type===n.type)&&a.name===n.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function gs(n,e,r){return function(){var i=this.__on,o,a=hs(e);if(i){for(var s=0,u=i.length;s<u;++s)if((o=i[s]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=e;return}}this.addEventListener(n.type,a,r),o={type:n.type,name:n.name,value:e,listener:a,options:r},i?i.push(o):this.__on=[o]}}function _s(n,e,r){var i=ds(n+""),o,a=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,l=u.length,h;f<l;++f)for(o=0,h=u[f];o<a;++o)if((s=i[o]).type===h.type&&s.name===h.name)return h.value}return}for(u=e?gs:ps,o=0;o<a;++o)this.each(u(i[o],e,r));return this}function Ti(n,e,r){var i=ki(n),o=i.CustomEvent;typeof o=="function"?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function ys(n,e){return function(){return Ti(this,n,e)}}function ms(n,e){return function(){return Ti(this,n,e.apply(this,arguments))}}function vs(n,e){return this.each((typeof e=="function"?ms:ys)(n,e))}function*xs(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,s;o<a;++o)(s=i[o])&&(yield s)}var Ri=[null];function at(n,e){this._groups=n,this._parents=e}function ke(){return new at([[document.documentElement]],Ri)}function ws(){return this}at.prototype=ke.prototype={constructor:at,select:Go,selectAll:Qo,selectChild:ea,selectChildren:oa,filter:aa,data:ha,enter:sa,exit:pa,join:ga,merge:_a,selection:ws,order:ya,sort:ma,call:xa,nodes:wa,node:ba,size:Aa,empty:Sa,each:Ea,attr:Ra,style:za,property:La,classed:Ha,text:Wa,html:Za,raise:ts,lower:ns,append:rs,insert:os,remove:ss,clone:ls,datum:cs,on:_s,dispatch:vs,[Symbol.iterator]:xs};function ct(n){return typeof n=="string"?new at([[document.querySelector(n)]],[document.documentElement]):new at([[n]],Ri)}function bs(n){let e;for(;e=n.sourceEvent;)n=e;return n}function xt(n,e){if(n=bs(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}var As={value:()=>{}};function Ce(){for(var n=0,e=arguments.length,r={},i;n<e;++n){if(!(i=arguments[n]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Fe(r)}function Fe(n){this._=n}function Ss(n,e){return n.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Fe.prototype=Ce.prototype={constructor:Fe,on:function(n,e){var r=this._,i=Ss(n+"",r),o,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((o=(n=i[a]).type)&&(o=Es(r[o],n.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(o=(n=i[a]).type)r[o]=cr(r[o],n.name,e);else if(e==null)for(o in r)r[o]=cr(r[o],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new Fe(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(a=this._[n],i=0,o=a.length;i<o;++i)a[i].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,a=i.length;o<a;++o)i[o].value.apply(e,r)}};function Es(n,e){for(var r=0,i=n.length,o;r<i;++r)if((o=n[r]).name===e)return o.value}function cr(n,e,r){for(var i=0,o=n.length;i<o;++i)if(n[i].name===e){n[i]=As,n=n.slice(0,i).concat(n.slice(i+1));break}return r!=null&&n.push({name:e,value:r}),n}const ks={passive:!1},ve={capture:!0,passive:!1};function gn(n){n.stopImmediatePropagation()}function Zt(n){n.preventDefault(),n.stopImmediatePropagation()}function Ni(n){var e=n.document.documentElement,r=ct(n).on("dragstart.drag",Zt,ve);"onselectstart"in e?r.on("selectstart.drag",Zt,ve):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Pi(n,e){var r=n.document.documentElement,i=ct(n).on("dragstart.drag",null);e&&(i.on("click.drag",Zt,ve),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Oe=n=>()=>n;function kn(n,{sourceEvent:e,subject:r,target:i,identifier:o,active:a,x:s,y:u,dx:f,dy:l,dispatch:h}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:h}})}kn.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function Cs(n){return!n.ctrlKey&&!n.button}function Is(){return this.parentNode}function Ms(n,e){return e??{x:n.x,y:n.y}}function Os(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ts(){var n=Cs,e=Is,r=Ms,i=Os,o={},a=Ce("start","drag","end"),s=0,u,f,l,h,c=0;function d(v){v.on("mousedown.drag",p).filter(i).on("touchstart.drag",y).on("touchmove.drag",g,ks).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(v,x){if(!(h||!n.call(this,v,x))){var S=b(this,e.call(this,v,x),v,x,"mouse");S&&(ct(v.view).on("mousemove.drag",_,ve).on("mouseup.drag",m,ve),Ni(v.view),gn(v),l=!1,u=v.clientX,f=v.clientY,S("start",v))}}function _(v){if(Zt(v),!l){var x=v.clientX-u,S=v.clientY-f;l=x*x+S*S>c}o.mouse("drag",v)}function m(v){ct(v.view).on("mousemove.drag mouseup.drag",null),Pi(v.view,l),Zt(v),o.mouse("end",v)}function y(v,x){if(n.call(this,v,x)){var S=v.changedTouches,E=e.call(this,v,x),k=S.length,N,M;for(N=0;N<k;++N)(M=b(this,E,v,x,S[N].identifier,S[N]))&&(gn(v),M("start",v,S[N]))}}function g(v){var x=v.changedTouches,S=x.length,E,k;for(E=0;E<S;++E)(k=o[x[E].identifier])&&(Zt(v),k("drag",v,x[E]))}function w(v){var x=v.changedTouches,S=x.length,E,k;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),E=0;E<S;++E)(k=o[x[E].identifier])&&(gn(v),k("end",v,x[E]))}function b(v,x,S,E,k,N){var M=a.copy(),I=xt(N||S,x),D,T,A;if((A=r.call(v,new kn("beforestart",{sourceEvent:S,target:d,identifier:k,active:s,x:I[0],y:I[1],dx:0,dy:0,dispatch:M}),E))!=null)return D=A.x-I[0]||0,T=A.y-I[1]||0,function P(O,z,$){var U=I,L;switch(O){case"start":o[k]=P,L=s++;break;case"end":delete o[k],--s;case"drag":I=xt($||z,x),L=s;break}M.call(O,v,new kn(O,{sourceEvent:z,subject:A,target:d,identifier:k,active:L,x:I[0]+D,y:I[1]+T,dx:I[0]-U[0],dy:I[1]-U[1],dispatch:M}),E)}}return d.filter=function(v){return arguments.length?(n=typeof v=="function"?v:Oe(!!v),d):n},d.container=function(v){return arguments.length?(e=typeof v=="function"?v:Oe(v),d):e},d.subject=function(v){return arguments.length?(r=typeof v=="function"?v:Oe(v),d):r},d.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:Oe(!!v),d):i},d.on=function(){var v=a.on.apply(a,arguments);return v===a?d:v},d.clickDistance=function(v){return arguments.length?(c=(v=+v)*v,d):Math.sqrt(c)},d}function Yn(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Di(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}function Ie(){}var xe=.7,qe=1/xe,Kt="\\s*([+-]?\\d+)\\s*",we="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rs=/^#([0-9a-f]{3,8})$/,Ns=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),Ps=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Ds=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${we}\\)$`),zs=new RegExp(`^rgba\\(${At},${At},${At},${we}\\)$`),Fs=new RegExp(`^hsl\\(${we},${At},${At}\\)$`),$s=new RegExp(`^hsla\\(${we},${At},${At},${we}\\)$`),hr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yn(Ie,be,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:dr,formatHex:dr,formatHex8:Us,formatHsl:Ls,formatRgb:pr,toString:pr});function dr(){return this.rgb().formatHex()}function Us(){return this.rgb().formatHex8()}function Ls(){return zi(this).formatHsl()}function pr(){return this.rgb().formatRgb()}function be(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=Rs.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?gr(e):r===3?new nt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Te(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Te(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ns.exec(n))?new nt(e[1],e[2],e[3],1):(e=Ps.exec(n))?new nt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ds.exec(n))?Te(e[1],e[2],e[3],e[4]):(e=zs.exec(n))?Te(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fs.exec(n))?mr(e[1],e[2]/100,e[3]/100,1):(e=$s.exec(n))?mr(e[1],e[2]/100,e[3]/100,e[4]):hr.hasOwnProperty(n)?gr(hr[n]):n==="transparent"?new nt(NaN,NaN,NaN,0):null}function gr(n){return new nt(n>>16&255,n>>8&255,n&255,1)}function Te(n,e,r,i){return i<=0&&(n=e=r=NaN),new nt(n,e,r,i)}function js(n){return n instanceof Ie||(n=be(n)),n?(n=n.rgb(),new nt(n.r,n.g,n.b,n.opacity)):new nt}function Cn(n,e,r,i){return arguments.length===1?js(n):new nt(n,e,r,i??1)}function nt(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}Yn(nt,Cn,Di(Ie,{brighter(n){return n=n==null?qe:Math.pow(qe,n),new nt(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?xe:Math.pow(xe,n),new nt(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new nt(Yt(this.r),Yt(this.g),Yt(this.b),He(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_r,formatHex:_r,formatHex8:Bs,formatRgb:yr,toString:yr}));function _r(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function Bs(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht((isNaN(this.opacity)?1:this.opacity)*255)}`}function yr(){const n=He(this.opacity);return`${n===1?"rgb(":"rgba("}${Yt(this.r)}, ${Yt(this.g)}, ${Yt(this.b)}${n===1?")":`, ${n})`}`}function He(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Yt(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ht(n){return n=Yt(n),(n<16?"0":"")+n.toString(16)}function mr(n,e,r,i){return i<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new _t(n,e,r,i)}function zi(n){if(n instanceof _t)return new _t(n.h,n.s,n.l,n.opacity);if(n instanceof Ie||(n=be(n)),!n)return new _t;if(n instanceof _t)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),s=NaN,u=a-o,f=(a+o)/2;return u?(e===a?s=(r-i)/u+(r<i)*6:r===a?s=(i-e)/u+2:s=(e-r)/u+4,u/=f<.5?a+o:2-a-o,s*=60):u=f>0&&f<1?0:s,new _t(s,u,f,n.opacity)}function qs(n,e,r,i){return arguments.length===1?zi(n):new _t(n,e,r,i??1)}function _t(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}Yn(_t,qs,Di(Ie,{brighter(n){return n=n==null?qe:Math.pow(qe,n),new _t(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?xe:Math.pow(xe,n),new _t(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new nt(_n(n>=240?n-240:n+120,o,i),_n(n,o,i),_n(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new _t(vr(this.h),Re(this.s),Re(this.l),He(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=He(this.opacity);return`${n===1?"hsl(":"hsla("}${vr(this.h)}, ${Re(this.s)*100}%, ${Re(this.l)*100}%${n===1?")":`, ${n})`}`}}));function vr(n){return n=(n||0)%360,n<0?n+360:n}function Re(n){return Math.max(0,Math.min(1,n||0))}function _n(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const Fi=n=>()=>n;function Hs(n,e){return function(r){return n+r*e}}function Vs(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function Ys(n){return(n=+n)==1?$i:function(e,r){return r-e?Vs(e,r,n):Fi(isNaN(e)?r:e)}}function $i(n,e){var r=e-n;return r?Hs(n,r):Fi(isNaN(n)?e:n)}const xr=function n(e){var r=Ys(e);function i(o,a){var s=r((o=Cn(o)).r,(a=Cn(a)).r),u=r(o.g,a.g),f=r(o.b,a.b),l=$i(o.opacity,a.opacity);return function(h){return o.r=s(h),o.g=u(h),o.b=f(h),o.opacity=l(h),o+""}}return i.gamma=n,i}(1);function jt(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var In=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(In.source,"g");function Gs(n){return function(){return n}}function Ws(n){return function(e){return n(e)+""}}function Xs(n,e){var r=In.lastIndex=yn.lastIndex=0,i,o,a,s=-1,u=[],f=[];for(n=n+"",e=e+"";(i=In.exec(n))&&(o=yn.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(i=i[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,f.push({i:s,x:jt(i,o)})),r=yn.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?f[0]?Ws(f[0].x):Gs(e):(e=f.length,function(l){for(var h=0,c;h<e;++h)u[(c=f[h]).i]=c.x(l);return u.join("")})}var wr=180/Math.PI,Mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ui(n,e,r,i,o,a){var s,u,f;return(s=Math.sqrt(n*n+e*e))&&(n/=s,e/=s),(f=n*r+e*i)&&(r-=n*f,i-=e*f),(u=Math.sqrt(r*r+i*i))&&(r/=u,i/=u,f/=u),n*i<e*r&&(n=-n,e=-e,f=-f,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,n)*wr,skewX:Math.atan(f)*wr,scaleX:s,scaleY:u}}var Ne;function Js(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Mn:Ui(e.a,e.b,e.c,e.d,e.e,e.f)}function Qs(n){return n==null||(Ne||(Ne=document.createElementNS("http://www.w3.org/2000/svg","g")),Ne.setAttribute("transform",n),!(n=Ne.transform.baseVal.consolidate()))?Mn:(n=n.matrix,Ui(n.a,n.b,n.c,n.d,n.e,n.f))}function Li(n,e,r,i){function o(l){return l.length?l.pop()+" ":""}function a(l,h,c,d,p,_){if(l!==c||h!==d){var m=p.push("translate(",null,e,null,r);_.push({i:m-4,x:jt(l,c)},{i:m-2,x:jt(h,d)})}else(c||d)&&p.push("translate("+c+e+d+r)}function s(l,h,c,d){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:jt(l,h)})):h&&c.push(o(c)+"rotate("+h+i)}function u(l,h,c,d){l!==h?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:jt(l,h)}):h&&c.push(o(c)+"skewX("+h+i)}function f(l,h,c,d,p,_){if(l!==c||h!==d){var m=p.push(o(p)+"scale(",null,",",null,")");_.push({i:m-4,x:jt(l,c)},{i:m-2,x:jt(h,d)})}else(c!==1||d!==1)&&p.push(o(p)+"scale("+c+","+d+")")}return function(l,h){var c=[],d=[];return l=n(l),h=n(h),a(l.translateX,l.translateY,h.translateX,h.translateY,c,d),s(l.rotate,h.rotate,c,d),u(l.skewX,h.skewX,c,d),f(l.scaleX,l.scaleY,h.scaleX,h.scaleY,c,d),l=h=null,function(p){for(var _=-1,m=d.length,y;++_<m;)c[(y=d[_]).i]=y.x(p);return c.join("")}}}var Zs=Li(Js,"px, ","px)","deg)"),Ks=Li(Qs,", ",")",")"),tu=1e-12;function br(n){return((n=Math.exp(n))+1/n)/2}function eu(n){return((n=Math.exp(n))-1/n)/2}function nu(n){return((n=Math.exp(2*n))-1)/(n+1)}const ru=function n(e,r,i){function o(a,s){var u=a[0],f=a[1],l=a[2],h=s[0],c=s[1],d=s[2],p=h-u,_=c-f,m=p*p+_*_,y,g;if(m<tu)g=Math.log(d/l)/e,y=function(E){return[u+E*p,f+E*_,l*Math.exp(e*E*g)]};else{var w=Math.sqrt(m),b=(d*d-l*l+i*m)/(2*l*r*w),v=(d*d-l*l-i*m)/(2*d*r*w),x=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(v*v+1)-v);g=(S-x)/e,y=function(E){var k=E*g,N=br(x),M=l/(r*w)*(N*nu(e*k+x)-eu(x));return[u+M*p,f+M*_,l*N/br(e*k+x)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return o.rho=function(a){var s=Math.max(.001,+a),u=s*s,f=u*u;return n(s,u,f)},o}(Math.SQRT2,2,4);var ee=0,ce=0,re=0,ji=1e3,Ve,he,Ye=0,Wt=0,on=0,Ae=typeof performance=="object"&&performance.now?performance:Date,Bi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Gn(){return Wt||(Bi(iu),Wt=Ae.now()+on)}function iu(){Wt=0}function Ge(){this._call=this._time=this._next=null}Ge.prototype=Wn.prototype={constructor:Ge,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?Gn():+r)+(e==null?0:+e),!this._next&&he!==this&&(he?he._next=this:Ve=this,he=this),this._call=n,this._time=r,On()},stop:function(){this._call&&(this._call=null,this._time=1/0,On())}};function Wn(n,e,r){var i=new Ge;return i.restart(n,e,r),i}function ou(){Gn(),++ee;for(var n=Ve,e;n;)(e=Wt-n._time)>=0&&n._call.call(void 0,e),n=n._next;--ee}function Ar(){Wt=(Ye=Ae.now())+on,ee=ce=0;try{ou()}finally{ee=0,su(),Wt=0}}function au(){var n=Ae.now(),e=n-Ye;e>ji&&(on-=e,Ye=n)}function su(){for(var n,e=Ve,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:Ve=r);he=n,On(i)}function On(n){if(!ee){ce&&(ce=clearTimeout(ce));var e=n-Wt;e>24?(n<1/0&&(ce=setTimeout(Ar,n-Ae.now()-on)),re&&(re=clearInterval(re))):(re||(Ye=Ae.now(),re=setInterval(au,ji)),ee=1,Bi(Ar))}}function Sr(n,e,r){var i=new Ge;return e=e==null?0:+e,i.restart(o=>{i.stop(),n(o+e)},e,r),i}var uu=Ce("start","end","cancel","interrupt"),fu=[],qi=0,Er=1,Tn=2,$e=3,kr=4,Rn=5,Ue=6;function an(n,e,r,i,o,a){var s=n.__transition;if(!s)n.__transition={};else if(r in s)return;lu(n,r,{name:e,index:i,group:o,on:uu,tween:fu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:qi})}function Xn(n,e){var r=mt(n,e);if(r.state>qi)throw new Error("too late; already scheduled");return r}function kt(n,e){var r=mt(n,e);if(r.state>$e)throw new Error("too late; already running");return r}function mt(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function lu(n,e,r){var i=n.__transition,o;i[e]=r,r.timer=Wn(a,0,r.time);function a(l){r.state=Er,r.timer.restart(s,r.delay,r.time),r.delay<=l&&s(l-r.delay)}function s(l){var h,c,d,p;if(r.state!==Er)return f();for(h in i)if(p=i[h],p.name===r.name){if(p.state===$e)return Sr(s);p.state===kr?(p.state=Ue,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[h]):+h<e&&(p.state=Ue,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[h])}if(Sr(function(){r.state===$e&&(r.state=kr,r.timer.restart(u,r.delay,r.time),u(l))}),r.state=Tn,r.on.call("start",n,n.__data__,r.index,r.group),r.state===Tn){for(r.state=$e,o=new Array(d=r.tween.length),h=0,c=-1;h<d;++h)(p=r.tween[h].value.call(n,n.__data__,r.index,r.group))&&(o[++c]=p);o.length=c+1}}function u(l){for(var h=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(f),r.state=Rn,1),c=-1,d=o.length;++c<d;)o[c].call(n,h);r.state===Rn&&(r.on.call("end",n,n.__data__,r.index,r.group),f())}function f(){r.state=Ue,r.timer.stop(),delete i[e];for(var l in i)return;delete n.__transition}}function Le(n,e){var r=n.__transition,i,o,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((i=r[s]).name!==e){a=!1;continue}o=i.state>Tn&&i.state<Rn,i.state=Ue,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete r[s]}a&&delete n.__transition}}function cu(n){return this.each(function(){Le(this,n)})}function hu(n,e){var r,i;return function(){var o=kt(this,n),a=o.tween;if(a!==r){i=r=a;for(var s=0,u=i.length;s<u;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function du(n,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=kt(this,n),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:e,value:r},f=0,l=o.length;f<l;++f)if(o[f].name===e){o[f]=u;break}f===l&&o.push(u)}a.tween=o}}function pu(n,e){var r=this._id;if(n+="",arguments.length<2){for(var i=mt(this.node(),r).tween,o=0,a=i.length,s;o<a;++o)if((s=i[o]).name===n)return s.value;return null}return this.each((e==null?hu:du)(r,n,e))}function Jn(n,e,r){var i=n._id;return n.each(function(){var o=kt(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return mt(o,i).value[e]}}function Hi(n,e){var r;return(typeof e=="number"?jt:e instanceof be?xr:(r=be(e))?(e=r,xr):Xs)(n,e)}function gu(n){return function(){this.removeAttribute(n)}}function _u(n){return function(){this.removeAttributeNS(n.space,n.local)}}function yu(n,e,r){var i,o=r+"",a;return function(){var s=this.getAttribute(n);return s===o?null:s===i?a:a=e(i=s,r)}}function mu(n,e,r){var i,o=r+"",a;return function(){var s=this.getAttributeNS(n.space,n.local);return s===o?null:s===i?a:a=e(i=s,r)}}function vu(n,e,r){var i,o,a;return function(){var s,u=r(this),f;return u==null?void this.removeAttribute(n):(s=this.getAttribute(n),f=u+"",s===f?null:s===i&&f===o?a:(o=f,a=e(i=s,u)))}}function xu(n,e,r){var i,o,a;return function(){var s,u=r(this),f;return u==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),f=u+"",s===f?null:s===i&&f===o?a:(o=f,a=e(i=s,u)))}}function wu(n,e){var r=rn(n),i=r==="transform"?Ks:Hi;return this.attrTween(n,typeof e=="function"?(r.local?xu:vu)(r,i,Jn(this,"attr."+n,e)):e==null?(r.local?_u:gu)(r):(r.local?mu:yu)(r,i,e))}function bu(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function Au(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function Su(n,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Au(n,a)),r}return o._value=e,o}function Eu(n,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&bu(n,a)),r}return o._value=e,o}function ku(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=rn(n);return this.tween(r,(i.local?Su:Eu)(i,e))}function Cu(n,e){return function(){Xn(this,n).delay=+e.apply(this,arguments)}}function Iu(n,e){return e=+e,function(){Xn(this,n).delay=e}}function Mu(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Cu:Iu)(e,n)):mt(this.node(),e).delay}function Ou(n,e){return function(){kt(this,n).duration=+e.apply(this,arguments)}}function Tu(n,e){return e=+e,function(){kt(this,n).duration=e}}function Ru(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Ou:Tu)(e,n)):mt(this.node(),e).duration}function Nu(n,e){if(typeof e!="function")throw new Error;return function(){kt(this,n).ease=e}}function Pu(n){var e=this._id;return arguments.length?this.each(Nu(e,n)):mt(this.node(),e).ease}function Du(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;kt(this,n).ease=r}}function zu(n){if(typeof n!="function")throw new Error;return this.each(Du(this._id,n))}function Fu(n){typeof n!="function"&&(n=Ai(n));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],s=a.length,u=i[o]=[],f,l=0;l<s;++l)(f=a[l])&&n.call(f,f.__data__,l,a)&&u.push(f);return new $t(i,this._parents,this._name,this._id)}function $u(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var f=e[u],l=r[u],h=f.length,c=s[u]=new Array(h),d,p=0;p<h;++p)(d=f[p]||l[p])&&(c[p]=d);for(;u<i;++u)s[u]=e[u];return new $t(s,this._parents,this._name,this._id)}function Uu(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Lu(n,e,r){var i,o,a=Uu(e)?Xn:kt;return function(){var s=a(this,n),u=s.on;u!==i&&(o=(i=u).copy()).on(e,r),s.on=o}}function ju(n,e){var r=this._id;return arguments.length<2?mt(this.node(),r).on.on(n):this.each(Lu(r,n,e))}function Bu(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function qu(){return this.on("end.remove",Bu(this._id))}function Hu(n){var e=this._name,r=this._id;typeof n!="function"&&(n=Hn(n));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var u=i[s],f=u.length,l=a[s]=new Array(f),h,c,d=0;d<f;++d)(h=u[d])&&(c=n.call(h,h.__data__,d,u))&&("__data__"in h&&(c.__data__=h.__data__),l[d]=c,an(l[d],e,r,d,l,mt(h,r)));return new $t(a,this._parents,e,r)}function Vu(n){var e=this._name,r=this._id;typeof n!="function"&&(n=bi(n));for(var i=this._groups,o=i.length,a=[],s=[],u=0;u<o;++u)for(var f=i[u],l=f.length,h,c=0;c<l;++c)if(h=f[c]){for(var d=n.call(h,h.__data__,c,f),p,_=mt(h,r),m=0,y=d.length;m<y;++m)(p=d[m])&&an(p,e,r,m,d,_);a.push(d),s.push(h)}return new $t(a,s,e,r)}var Yu=ke.prototype.constructor;function Gu(){return new Yu(this._groups,this._parents)}function Wu(n,e){var r,i,o;return function(){var a=te(this,n),s=(this.style.removeProperty(n),te(this,n));return a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}function Vi(n){return function(){this.style.removeProperty(n)}}function Xu(n,e,r){var i,o=r+"",a;return function(){var s=te(this,n);return s===o?null:s===i?a:a=e(i=s,r)}}function Ju(n,e,r){var i,o,a;return function(){var s=te(this,n),u=r(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(n),te(this,n))),s===f?null:s===i&&f===o?a:(o=f,a=e(i=s,u))}}function Qu(n,e){var r,i,o,a="style."+e,s="end."+a,u;return function(){var f=kt(this,n),l=f.on,h=f.value[a]==null?u||(u=Vi(e)):void 0;(l!==r||o!==h)&&(i=(r=l).copy()).on(s,o=h),f.on=i}}function Zu(n,e,r){var i=(n+="")=="transform"?Zs:Hi;return e==null?this.styleTween(n,Wu(n,i)).on("end.style."+n,Vi(n)):typeof e=="function"?this.styleTween(n,Ju(n,i,Jn(this,"style."+n,e))).each(Qu(this._id,n)):this.styleTween(n,Xu(n,i,e),r).on("end.style."+n,null)}function Ku(n,e,r){return function(i){this.style.setProperty(n,e.call(this,i),r)}}function tf(n,e,r){var i,o;function a(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&Ku(n,s,r)),i}return a._value=e,a}function ef(n,e,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,tf(n,e,r??""))}function nf(n){return function(){this.textContent=n}}function rf(n){return function(){var e=n(this);this.textContent=e??""}}function of(n){return this.tween("text",typeof n=="function"?rf(Jn(this,"text",n)):nf(n==null?"":n+""))}function af(n){return function(e){this.textContent=n.call(this,e)}}function sf(n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&af(o)),e}return i._value=n,i}function uf(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,sf(n))}function ff(){for(var n=this._name,e=this._id,r=Yi(),i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s.length,f,l=0;l<u;++l)if(f=s[l]){var h=mt(f,e);an(f,n,r,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new $t(i,this._parents,n,r)}function lf(){var n,e,r=this,i=r._id,o=r.size();return new Promise(function(a,s){var u={value:s},f={value:function(){--o===0&&a()}};r.each(function(){var l=kt(this,i),h=l.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(f)),l.on=e}),o===0&&a()})}var cf=0;function $t(n,e,r,i){this._groups=n,this._parents=e,this._name=r,this._id=i}function Yi(){return++cf}var Mt=ke.prototype;$t.prototype={constructor:$t,select:Hu,selectAll:Vu,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:Fu,merge:$u,selection:Gu,transition:ff,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:ju,attr:wu,attrTween:ku,style:Zu,styleTween:ef,text:of,textTween:uf,remove:qu,tween:pu,delay:Mu,duration:Ru,ease:Pu,easeVarying:zu,end:lf,[Symbol.iterator]:Mt[Symbol.iterator]};function hf(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var df={time:null,delay:0,duration:250,ease:hf};function pf(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function gf(n){var e,r;n instanceof $t?(e=n._id,n=n._name):(e=Yi(),(r=df).time=Gn(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s.length,f,l=0;l<u;++l)(f=s[l])&&an(f,n,e,l,s,r||pf(f,e));return new $t(i,this._parents,n,e)}ke.prototype.interrupt=cu;ke.prototype.transition=gf;const Pe=n=>()=>n;function _f(n,{sourceEvent:e,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Pt(n,e,r){this.k=n,this.x=e,this.y=r}Pt.prototype={constructor:Pt,scale:function(n){return n===1?this:new Pt(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Pt(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qn=new Pt(1,0,0);vt.prototype=Pt.prototype;function vt(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Qn;return n.__zoom}function mn(n){n.stopImmediatePropagation()}function ie(n){n.preventDefault(),n.stopImmediatePropagation()}function yf(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function mf(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Cr(){return this.__zoom||Qn}function vf(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function xf(){return navigator.maxTouchPoints||"ontouchstart"in this}function wf(n,e,r){var i=n.invertX(e[0][0])-r[0][0],o=n.invertX(e[1][0])-r[1][0],a=n.invertY(e[0][1])-r[0][1],s=n.invertY(e[1][1])-r[1][1];return n.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function bf(){var n=yf,e=mf,r=wf,i=vf,o=xf,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,f=ru,l=Ce("start","zoom","end"),h,c,d,p=500,_=150,m=0,y=10;function g(A){A.property("__zoom",Cr).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",M).filter(o).on("touchstart.zoom",I).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(A,P,O,z){var $=A.selection?A.selection():A;$.property("__zoom",Cr),A!==$?x(A,P,O,z):$.interrupt().each(function(){S(this,arguments).event(z).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},g.scaleBy=function(A,P,O,z){g.scaleTo(A,function(){var $=this.__zoom.k,U=typeof P=="function"?P.apply(this,arguments):P;return $*U},O,z)},g.scaleTo=function(A,P,O,z){g.transform(A,function(){var $=e.apply(this,arguments),U=this.__zoom,L=O==null?v($):typeof O=="function"?O.apply(this,arguments):O,j=U.invert(L),B=typeof P=="function"?P.apply(this,arguments):P;return r(b(w(U,B),L,j),$,s)},O,z)},g.translateBy=function(A,P,O,z){g.transform(A,function(){return r(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),s)},null,z)},g.translateTo=function(A,P,O,z,$){g.transform(A,function(){var U=e.apply(this,arguments),L=this.__zoom,j=z==null?v(U):typeof z=="function"?z.apply(this,arguments):z;return r(Qn.translate(j[0],j[1]).scale(L.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof O=="function"?-O.apply(this,arguments):-O),U,s)},z,$)};function w(A,P){return P=Math.max(a[0],Math.min(a[1],P)),P===A.k?A:new Pt(P,A.x,A.y)}function b(A,P,O){var z=P[0]-O[0]*A.k,$=P[1]-O[1]*A.k;return z===A.x&&$===A.y?A:new Pt(A.k,z,$)}function v(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function x(A,P,O,z){A.on("start.zoom",function(){S(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(z).end()}).tween("zoom",function(){var $=this,U=arguments,L=S($,U).event(z),j=e.apply($,U),B=O==null?v(j):typeof O=="function"?O.apply($,U):O,J=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),X=$.__zoom,dt=typeof P=="function"?P.apply($,U):P,Ct=f(X.invert(B).concat(J/X.k),dt.invert(B).concat(J/dt.k));return function(pt){if(pt===1)pt=dt;else{var It=Ct(pt),pn=J/It[2];pt=new Pt(pn,B[0]-It[0]*pn,B[1]-It[1]*pn)}L.zoom(null,pt)}})}function S(A,P,O){return!O&&A.__zooming||new E(A,P)}function E(A,P){this.that=A,this.args=P,this.active=0,this.sourceEvent=null,this.extent=e.apply(A,P),this.taps=0}E.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,P){return this.mouse&&A!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var P=ct(this.that).datum();l.call(A,this.that,new _f(A,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:l}),P)}};function k(A,...P){if(!n.apply(this,arguments))return;var O=S(this,P).event(A),z=this.__zoom,$=Math.max(a[0],Math.min(a[1],z.k*Math.pow(2,i.apply(this,arguments)))),U=xt(A);if(O.wheel)(O.mouse[0][0]!==U[0]||O.mouse[0][1]!==U[1])&&(O.mouse[1]=z.invert(O.mouse[0]=U)),clearTimeout(O.wheel);else{if(z.k===$)return;O.mouse=[U,z.invert(U)],Le(this),O.start()}ie(A),O.wheel=setTimeout(L,_),O.zoom("mouse",r(b(w(z,$),O.mouse[0],O.mouse[1]),O.extent,s));function L(){O.wheel=null,O.end()}}function N(A,...P){if(d||!n.apply(this,arguments))return;var O=A.currentTarget,z=S(this,P,!0).event(A),$=ct(A.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",J,!0),U=xt(A,O),L=A.clientX,j=A.clientY;Ni(A.view),mn(A),z.mouse=[U,this.__zoom.invert(U)],Le(this),z.start();function B(X){if(ie(X),!z.moved){var dt=X.clientX-L,Ct=X.clientY-j;z.moved=dt*dt+Ct*Ct>m}z.event(X).zoom("mouse",r(b(z.that.__zoom,z.mouse[0]=xt(X,O),z.mouse[1]),z.extent,s))}function J(X){$.on("mousemove.zoom mouseup.zoom",null),Pi(X.view,z.moved),ie(X),z.event(X).end()}}function M(A,...P){if(n.apply(this,arguments)){var O=this.__zoom,z=xt(A.changedTouches?A.changedTouches[0]:A,this),$=O.invert(z),U=O.k*(A.shiftKey?.5:2),L=r(b(w(O,U),z,$),e.apply(this,P),s);ie(A),u>0?ct(this).transition().duration(u).call(x,L,z,A):ct(this).call(g.transform,L,z,A)}}function I(A,...P){if(n.apply(this,arguments)){var O=A.touches,z=O.length,$=S(this,P,A.changedTouches.length===z).event(A),U,L,j,B;for(mn(A),L=0;L<z;++L)j=O[L],B=xt(j,this),B=[B,this.__zoom.invert(B),j.identifier],$.touch0?!$.touch1&&$.touch0[2]!==B[2]&&($.touch1=B,$.taps=0):($.touch0=B,U=!0,$.taps=1+!!h);h&&(h=clearTimeout(h)),U&&($.taps<2&&(c=B[0],h=setTimeout(function(){h=null},p)),Le(this),$.start())}}function D(A,...P){if(this.__zooming){var O=S(this,P).event(A),z=A.changedTouches,$=z.length,U,L,j,B;for(ie(A),U=0;U<$;++U)L=z[U],j=xt(L,this),O.touch0&&O.touch0[2]===L.identifier?O.touch0[0]=j:O.touch1&&O.touch1[2]===L.identifier&&(O.touch1[0]=j);if(L=O.that.__zoom,O.touch1){var J=O.touch0[0],X=O.touch0[1],dt=O.touch1[0],Ct=O.touch1[1],pt=(pt=dt[0]-J[0])*pt+(pt=dt[1]-J[1])*pt,It=(It=Ct[0]-X[0])*It+(It=Ct[1]-X[1])*It;L=w(L,Math.sqrt(pt/It)),j=[(J[0]+dt[0])/2,(J[1]+dt[1])/2],B=[(X[0]+Ct[0])/2,(X[1]+Ct[1])/2]}else if(O.touch0)j=O.touch0[0],B=O.touch0[1];else return;O.zoom("touch",r(b(L,j,B),O.extent,s))}}function T(A,...P){if(this.__zooming){var O=S(this,P).event(A),z=A.changedTouches,$=z.length,U,L;for(mn(A),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),U=0;U<$;++U)L=z[U],O.touch0&&O.touch0[2]===L.identifier?delete O.touch0:O.touch1&&O.touch1[2]===L.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(L=xt(L,this),Math.hypot(c[0]-L[0],c[1]-L[1])<y)){var j=ct(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return g.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:Pe(+A),g):i},g.filter=function(A){return arguments.length?(n=typeof A=="function"?A:Pe(!!A),g):n},g.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Pe(!!A),g):o},g.extent=function(A){return arguments.length?(e=typeof A=="function"?A:Pe([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),g):e},g.scaleExtent=function(A){return arguments.length?(a[0]=+A[0],a[1]=+A[1],g):[a[0],a[1]]},g.translateExtent=function(A){return arguments.length?(s[0][0]=+A[0][0],s[1][0]=+A[1][0],s[0][1]=+A[0][1],s[1][1]=+A[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(A){return arguments.length?(r=A,g):r},g.duration=function(A){return arguments.length?(u=+A,g):u},g.interpolate=function(A){return arguments.length?(f=A,g):f},g.on=function(){var A=l.on.apply(l,arguments);return A===l?g:A},g.clickDistance=function(A){return arguments.length?(m=(A=+A)*A,g):Math.sqrt(m)},g.tapDistance=function(A){return arguments.length?(y=+A,g):y},g}class Ir extends Map{constructor(e,r=Ef){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(Mr(this,e))}has(e){return super.has(Mr(this,e))}set(e,r){return super.set(Af(this,e),r)}delete(e){return super.delete(Sf(this,e))}}function Mr({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):r}function Af({_intern:n,_key:e},r){const i=e(r);return n.has(i)?n.get(i):(n.set(i,r),r)}function Sf({_intern:n,_key:e},r){const i=e(r);return n.has(i)&&(r=n.get(i),n.delete(i)),r}function Ef(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Or(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function Tr(n,e){let r;if(e===void 0)for(const i of n)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of n)(o=e(o,++i,n))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function kf(n,e){let r=0;for(let i of n)(i=+i)&&(r+=i);return r}var Cf=typeof global=="object"&&global&&global.Object===Object&&global,If=typeof self=="object"&&self&&self.Object===Object&&self,Gi=Cf||If||Function("return this")(),We=Gi.Symbol,Wi=Object.prototype,Mf=Wi.hasOwnProperty,Of=Wi.toString,oe=We?We.toStringTag:void 0;function Tf(n){var e=Mf.call(n,oe),r=n[oe];try{n[oe]=void 0;var i=!0}catch{}var o=Of.call(n);return i&&(e?n[oe]=r:delete n[oe]),o}var Rf=Object.prototype,Nf=Rf.toString;function Pf(n){return Nf.call(n)}var Df="[object Null]",zf="[object Undefined]",Rr=We?We.toStringTag:void 0;function Ff(n){return n==null?n===void 0?zf:Df:Rr&&Rr in Object(n)?Tf(n):Pf(n)}function $f(n){return n!=null&&typeof n=="object"}var Uf="[object Symbol]";function Lf(n){return typeof n=="symbol"||$f(n)&&Ff(n)==Uf}var jf=/\s/;function Bf(n){for(var e=n.length;e--&&jf.test(n.charAt(e)););return e}var qf=/^\s+/;function Hf(n){return n&&n.slice(0,Bf(n)+1).replace(qf,"")}function Xe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Nr=NaN,Vf=/^[-+]0x[0-9a-f]+$/i,Yf=/^0b[01]+$/i,Gf=/^0o[0-7]+$/i,Wf=parseInt;function Pr(n){if(typeof n=="number")return n;if(Lf(n))return Nr;if(Xe(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Xe(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Hf(n);var r=Yf.test(n);return r||Gf.test(n)?Wf(n.slice(2),r?2:8):Vf.test(n)?Nr:+n}var vn=function(){return Gi.Date.now()},Xf="Expected a function",Jf=Math.max,Qf=Math.min;function Xi(n,e,r){var i,o,a,s,u,f,l=0,h=!1,c=!1,d=!0;if(typeof n!="function")throw new TypeError(Xf);e=Pr(e)||0,Xe(r)&&(h=!!r.leading,c="maxWait"in r,a=c?Jf(Pr(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(S){var E=i,k=o;return i=o=void 0,l=S,s=n.apply(k,E),s}function _(S){return l=S,u=setTimeout(g,e),h?p(S):s}function m(S){var E=S-f,k=S-l,N=e-E;return c?Qf(N,a-k):N}function y(S){var E=S-f,k=S-l;return f===void 0||E>=e||E<0||c&&k>=a}function g(){var S=vn();if(y(S))return w(S);u=setTimeout(g,m(S))}function w(S){return u=void 0,d&&i?p(S):(i=o=void 0,s)}function b(){u!==void 0&&clearTimeout(u),l=0,i=f=o=u=void 0}function v(){return u===void 0?s:w(vn())}function x(){var S=vn(),E=y(S);if(i=arguments,o=this,f=S,E){if(u===void 0)return _(f);if(c)return clearTimeout(u),u=setTimeout(g,e),p(f)}return u===void 0&&(u=setTimeout(g,e)),s}return x.cancel=b,x.flush=v,x}var Zf="Expected a function";function Kf(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(Zf);return Xe(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Xi(n,e,{leading:i,maxWait:e,trailing:o})}var Gt=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Gt.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Gt.Bounce.In(n*2)*.5:Gt.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),de=function(){return performance.now()},Ji=function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];(e=s._group)===null||e===void 0||e.remove(s),s._group=this,this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,o=e;i<o.length;i++){var a=o[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=de()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],s=!r;a&&a.update(e,s)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},n}(),Nn={Linear:function(n,e){var r=n.length-1,i=r*e,o=Math.floor(i),a=Nn.Utils.Linear;return e<0?a(n[0],n[1],i):e>1?a(n[r],n[r-1],r-i):a(n[o],n[o+1>r?r:o+1],i-o)},Utils:{Linear:function(n,e,r){return(e-n)*r+n}}},Qi=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),Pn=new Ji,Dr=function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Gt.Linear.None,this._interpolationFunction=Nn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Qi.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Pn,Pn.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=de()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var a in this._valuesEnd)o[a]=this._valuesEnd[a];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,i,o,a){for(var s in i){var u=e[s],f=Array.isArray(u),l=f?"array":typeof u,h=!f&&Array.isArray(i[s]);if(!(l==="undefined"||l==="function")){if(h){var c=i[s];if(c.length===0)continue;for(var d=[u],p=0,_=c.length;p<_;p+=1){var m=this._handleRelativeValue(u,c[p]);if(isNaN(m)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(m)}h&&(i[s]=d)}if((l==="object"||f)&&u&&!h){r[s]=f?[]:{};var y=u;for(var g in y)r[s][g]=y[g];o[s]=f?[]:{};var c=i[s];if(!this._isDynamic){var w={};for(var g in c)w[g]=c[g];i[s]=c=w}this._setupProperties(y,r[s],c,o[s],a)}else(typeof r[s]>"u"||a)&&(r[s]=u),f||(r[s]*=1),h?o[s]=i[s].slice().reverse():o[s]=r[s]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=de()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=de()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Gt.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=Nn.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var i=this,o;if(e===void 0&&(e=de()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=e-this._startTime,u=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),f=this._duration+this._repeat*u,l=function(){if(i._duration===0||s>f)return 1;var m=Math.trunc(s/u),y=s-m*u,g=Math.min(y/i._duration,1);return g===0&&s===i._duration?1:g},h=l(),c=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,c),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||s>=this._duration)if(this._repeat>0){var d=Math.min(Math.trunc((s-this._duration)/u)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=d);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=u*d,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,_=this._chainedTweens.length;p<_;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,i,o){for(var a in i)if(r[a]!==void 0){var s=r[a]||0,u=i[a],f=Array.isArray(e[a]),l=Array.isArray(u),h=!f&&l;h?e[a]=this._interpolationFunction(u,o):typeof u=="object"&&u?this._updateProperties(e[a],s,u,o):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(e[a]=s+(u-s)*o))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n}();Qi.nextId;var St=Pn;St.getAll.bind(St);St.removeAll.bind(St);St.add.bind(St);St.remove.bind(St);St.update.bind(St);function zr(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function tl(n){if(Array.isArray(n))return n}function el(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nl(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function rl(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,s,u=[],f=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(f=(i=a.call(r)).done)&&(u.push(i.value),u.length!==e);f=!0);}catch(h){l=!0,o=h}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return u}}function il(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ol(n,e){return tl(n)||rl(n,e)||al(n,e)||il()}function al(n,e){if(n){if(typeof n=="string")return zr(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zr(n,e):void 0}}var sl=nl(function n(e,r){var i=r.default,o=i===void 0?null:i,a=r.triggerUpdate,s=a===void 0?!0:a,u=r.onChange,f=u===void 0?function(l,h){}:u;el(this,n),this.name=e,this.defaultVal=o,this.triggerUpdate=s,this.onChange=f});function Zn(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,i=n.props,o=i===void 0?{}:i,a=n.methods,s=a===void 0?{}:a,u=n.aliases,f=u===void 0?{}:u,l=n.init,h=l===void 0?function(){}:l,c=n.update,d=c===void 0?function(){}:c,p=Object.keys(o).map(function(_){return new sl(_,o[_])});return function _(){for(var m=arguments.length,y=new Array(m),g=0;g<m;g++)y[g]=arguments[g];var w=!!(this instanceof _&&this.constructor),b=w?y.shift():void 0,v=y[0],x=v===void 0?{}:v,S=Object.assign({},r instanceof Function?r(x):r,{initialised:!1}),E={};function k(I){return N(I,x),M(),k}var N=function(D,T){h.call(k,D,S,T),S.initialised=!0},M=Xi(function(){S.initialised&&(d.call(k,S,E),E={})},1);return p.forEach(function(I){k[I.name]=D(I);function D(T){var A=T.name,P=T.triggerUpdate,O=P===void 0?!1:P,z=T.onChange,$=z===void 0?function(j,B){}:z,U=T.defaultVal,L=U===void 0?null:U;return function(j){var B=S[A];if(!arguments.length)return B;var J=j===void 0?L:j;return S[A]=J,$.call(k,J,S,B),!E.hasOwnProperty(A)&&(E[A]=B),O&&M(),k}}}),Object.keys(s).forEach(function(I){k[I]=function(){for(var D,T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];return(D=s[I]).call.apply(D,[k,S].concat(A))}}),Object.entries(f).forEach(function(I){var D=ol(I,2),T=D[0],A=D[1];return k[T]=k[A]}),k.resetProps=function(){return p.forEach(function(I){k[I.name](I.defaultVal)}),k},k.resetProps(),S._rerender=M,w&&b&&k(b),k}}var H=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function Je(n){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(n)}var ul=/^\s+/,fl=/\s+$/;function F(n,e){if(n=n||"",e=e||{},n instanceof F)return n;if(!(this instanceof F))return new F(n,e);var r=ll(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}F.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,o,a,s,u;return r=e.r/255,i=e.g/255,o=e.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),o<=.03928?u=o/12.92:u=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*s+.0722*u},setAlpha:function(e){return this._a=Zi(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$r(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$r(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=Fr(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Fr(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return Ur(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return pl(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(G(this._r,255)*100)+"%",g:Math.round(G(this._g,255)*100)+"%",b:Math.round(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(G(this._r,255)*100)+"%, "+Math.round(G(this._g,255)*100)+"%, "+Math.round(G(this._b,255)*100)+"%)":"rgba("+Math.round(G(this._r,255)*100)+"%, "+Math.round(G(this._g,255)*100)+"%, "+Math.round(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:kl[Ur(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+Lr(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(e){var a=F(e);i="#"+Lr(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!r&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return F(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(ml,arguments)},brighten:function(){return this._applyModification(vl,arguments)},darken:function(){return this._applyModification(xl,arguments)},desaturate:function(){return this._applyModification(gl,arguments)},saturate:function(){return this._applyModification(_l,arguments)},greyscale:function(){return this._applyModification(yl,arguments)},spin:function(){return this._applyModification(wl,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Sl,arguments)},complement:function(){return this._applyCombination(bl,arguments)},monochromatic:function(){return this._applyCombination(El,arguments)},splitcomplement:function(){return this._applyCombination(Al,arguments)},triad:function(){return this._applyCombination(jr,[3])},tetrad:function(){return this._applyCombination(jr,[4])}};F.fromRatio=function(n,e){if(Je(n)=="object"){var r={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?r[i]=n[i]:r[i]=pe(n[i]));n=r}return F(n,e)};function ll(n){var e={r:0,g:0,b:0},r=1,i=null,o=null,a=null,s=!1,u=!1;return typeof n=="string"&&(n=Ol(n)),Je(n)=="object"&&(Ot(n.r)&&Ot(n.g)&&Ot(n.b)?(e=cl(n.r,n.g,n.b),s=!0,u=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Ot(n.h)&&Ot(n.s)&&Ot(n.v)?(i=pe(n.s),o=pe(n.v),e=dl(n.h,i,o),s=!0,u="hsv"):Ot(n.h)&&Ot(n.s)&&Ot(n.l)&&(i=pe(n.s),a=pe(n.l),e=hl(n.h,i,a),s=!0,u="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=Zi(r),{ok:s,format:n.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function cl(n,e,r){return{r:G(n,255)*255,g:G(e,255)*255,b:G(r,255)*255}}function Fr(n,e,r){n=G(n,255),e=G(e,255),r=G(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),a,s,u=(i+o)/2;if(i==o)a=s=0;else{var f=i-o;switch(s=u>.5?f/(2-i-o):f/(i+o),i){case n:a=(e-r)/f+(e<r?6:0);break;case e:a=(r-n)/f+2;break;case r:a=(n-e)/f+4;break}a/=6}return{h:a,s,l:u}}function hl(n,e,r){var i,o,a;n=G(n,360),e=G(e,100),r=G(r,100);function s(l,h,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?l+(h-l)*6*c:c<1/2?h:c<2/3?l+(h-l)*(2/3-c)*6:l}if(e===0)i=o=a=r;else{var u=r<.5?r*(1+e):r+e-r*e,f=2*r-u;i=s(f,u,n+1/3),o=s(f,u,n),a=s(f,u,n-1/3)}return{r:i*255,g:o*255,b:a*255}}function $r(n,e,r){n=G(n,255),e=G(e,255),r=G(r,255);var i=Math.max(n,e,r),o=Math.min(n,e,r),a,s,u=i,f=i-o;if(s=i===0?0:f/i,i==o)a=0;else{switch(i){case n:a=(e-r)/f+(e<r?6:0);break;case e:a=(r-n)/f+2;break;case r:a=(n-e)/f+4;break}a/=6}return{h:a,s,v:u}}function dl(n,e,r){n=G(n,360)*6,e=G(e,100),r=G(r,100);var i=Math.floor(n),o=n-i,a=r*(1-e),s=r*(1-o*e),u=r*(1-(1-o)*e),f=i%6,l=[r,s,a,a,u,r][f],h=[u,r,r,s,a,a][f],c=[a,a,u,r,r,s][f];return{r:l*255,g:h*255,b:c*255}}function Ur(n,e,r,i){var o=[yt(Math.round(n).toString(16)),yt(Math.round(e).toString(16)),yt(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function pl(n,e,r,i,o){var a=[yt(Math.round(n).toString(16)),yt(Math.round(e).toString(16)),yt(Math.round(r).toString(16)),yt(Ki(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Lr(n,e,r,i){var o=[yt(Ki(i)),yt(Math.round(n).toString(16)),yt(Math.round(e).toString(16)),yt(Math.round(r).toString(16))];return o.join("")}F.equals=function(n,e){return!n||!e?!1:F(n).toRgbString()==F(e).toRgbString()};F.random=function(){return F.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function gl(n,e){e=e===0?0:e||10;var r=F(n).toHsl();return r.s-=e/100,r.s=sn(r.s),F(r)}function _l(n,e){e=e===0?0:e||10;var r=F(n).toHsl();return r.s+=e/100,r.s=sn(r.s),F(r)}function yl(n){return F(n).desaturate(100)}function ml(n,e){e=e===0?0:e||10;var r=F(n).toHsl();return r.l+=e/100,r.l=sn(r.l),F(r)}function vl(n,e){e=e===0?0:e||10;var r=F(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),F(r)}function xl(n,e){e=e===0?0:e||10;var r=F(n).toHsl();return r.l-=e/100,r.l=sn(r.l),F(r)}function wl(n,e){var r=F(n).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,F(r)}function bl(n){var e=F(n).toHsl();return e.h=(e.h+180)%360,F(e)}function jr(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=F(n).toHsl(),i=[F(n)],o=360/e,a=1;a<e;a++)i.push(F({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function Al(n){var e=F(n).toHsl(),r=e.h;return[F(n),F({h:(r+72)%360,s:e.s,l:e.l}),F({h:(r+216)%360,s:e.s,l:e.l})]}function Sl(n,e,r){e=e||6,r=r||30;var i=F(n).toHsl(),o=360/r,a=[F(n)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,a.push(F(i));return a}function El(n,e){e=e||6;for(var r=F(n).toHsv(),i=r.h,o=r.s,a=r.v,s=[],u=1/e;e--;)s.push(F({h:i,s:o,v:a})),a=(a+u)%1;return s}F.mix=function(n,e,r){r=r===0?0:r||50;var i=F(n).toRgb(),o=F(e).toRgb(),a=r/100,s={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return F(s)};F.readability=function(n,e){var r=F(n),i=F(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};F.isReadable=function(n,e,r){var i=F.readability(n,e),o,a;switch(a=!1,o=Tl(r),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};F.mostReadable=function(n,e,r){var i=null,o=0,a,s,u,f;r=r||{},s=r.includeFallbackColors,u=r.level,f=r.size;for(var l=0;l<e.length;l++)a=F.readability(n,e[l]),a>o&&(o=a,i=F(e[l]));return F.isReadable(n,i,{level:u,size:f})||!s?i:(r.includeFallbackColors=!1,F.mostReadable(n,["#fff","#000"],r))};var Dn=F.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},kl=F.hexNames=Cl(Dn);function Cl(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function Zi(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function G(n,e){Il(n)&&(n="100%");var r=Ml(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function sn(n){return Math.min(1,Math.max(0,n))}function ot(n){return parseInt(n,16)}function Il(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function Ml(n){return typeof n=="string"&&n.indexOf("%")!=-1}function yt(n){return n.length==1?"0"+n:""+n}function pe(n){return n<=1&&(n=n*100+"%"),n}function Ki(n){return Math.round(parseFloat(n)*255).toString(16)}function Br(n){return ot(n)/255}var gt=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ot(n){return!!gt.CSS_UNIT.exec(n)}function Ol(n){n=n.replace(ul,"").replace(fl,"").toLowerCase();var e=!1;if(Dn[n])n=Dn[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=gt.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=gt.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=gt.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=gt.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=gt.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=gt.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=gt.hex8.exec(n))?{r:ot(r[1]),g:ot(r[2]),b:ot(r[3]),a:Br(r[4]),format:e?"name":"hex8"}:(r=gt.hex6.exec(n))?{r:ot(r[1]),g:ot(r[2]),b:ot(r[3]),format:e?"name":"hex"}:(r=gt.hex4.exec(n))?{r:ot(r[1]+""+r[1]),g:ot(r[2]+""+r[2]),b:ot(r[3]+""+r[3]),a:Br(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=gt.hex3.exec(n))?{r:ot(r[1]+""+r[1]),g:ot(r[2]+""+r[2]),b:ot(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function Tl(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function zn(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Rl(n){if(Array.isArray(n))return zn(n)}function to(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Nl(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pl(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function st(n,e){return n.get(to(n,e))}function qr(n,e,r){Nl(n,e),e.set(n,r)}function Hr(n,e,r){return n.set(to(n,e),r),r}function Dl(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,jl(i.key),i)}}function zl(n,e,r){return e&&Dl(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Fl(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ul(n){return Rl(n)||Fl(n)||Bl(n)||$l()}function Ll(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function jl(n){var e=Ll(n,"string");return typeof e=="symbol"?e:e+""}function Bl(n,e){if(n){if(typeof n=="string")return zn(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(n,e):void 0}}var ql=123,Hl=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},eo=function(e,r,i){return(e<<16)+(r<<8)+i},Vl=function(e){var r=F(e).toRgb(),i=r.r,o=r.g,a=r.b;return eo(i,o,a)},Vr=function(e,r){return e*ql%Math.pow(2,r)},Bt=new WeakMap,Tt=new WeakMap,Yl=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Pl(this,n),qr(this,Bt,void 0),qr(this,Tt,void 0),Hr(Tt,this,e),this.reset()}return zl(n,[{key:"reset",value:function(){Hr(Bt,this,["__reserved for background__"])}},{key:"register",value:function(r){if(st(Bt,this).length>=Math.pow(2,24-st(Tt,this)))return null;var i=st(Bt,this).length,o=Vr(i,st(Tt,this)),a=Hl(i+(o<<24-st(Tt,this)));return st(Bt,this).push(r),a}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?Vl(r):eo.apply(void 0,Ul(r));if(!i)return null;var o=i&Math.pow(2,24-st(Tt,this))-1,a=i>>24-st(Tt,this)&Math.pow(2,st(Tt,this))-1;return Vr(o,st(Tt,this))!==a||o>=st(Bt,this).length?null:st(Bt,this)[o]}}])}(),Me,W,no,ro,qt,Yr,io,oo,ao,Kn,Fn,$n,Se={},so=[],Gl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,un=Array.isArray;function bt(n,e){for(var r in e)n[r]=e[r];return n}function tr(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Wl(n,e,r){var i,o,a,s={};for(a in e)a=="key"?i=e[a]:a=="ref"?o=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?Me.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(a in n.defaultProps)s[a]===void 0&&(s[a]=n.defaultProps[a]);return ge(n,s,i,o,null)}function ge(n,e,r,i,o){var a={type:n,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++no,__i:-1,__u:0};return o==null&&W.vnode!=null&&W.vnode(a),a}function fn(n){return n.children}function je(n,e){this.props=n,this.context=e}function ne(n,e){if(e==null)return n.__?ne(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?ne(n):null}function uo(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return uo(n)}}function Gr(n){(!n.__d&&(n.__d=!0)&&qt.push(n)&&!Qe.__r++||Yr!=W.debounceRendering)&&((Yr=W.debounceRendering)||io)(Qe)}function Qe(){for(var n,e,r,i,o,a,s,u=1;qt.length;)qt.length>u&&qt.sort(oo),n=qt.shift(),u=qt.length,n.__d&&(r=void 0,o=(i=(e=n).__v).__e,a=[],s=[],e.__P&&((r=bt({},i)).__v=i.__v+1,W.vnode&&W.vnode(r),er(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[o]:null,a,o??ne(i),!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,co(a,r,s),r.__e!=o&&uo(r)));Qe.__r=0}function fo(n,e,r,i,o,a,s,u,f,l,h){var c,d,p,_,m,y,g=i&&i.__k||so,w=e.length;for(f=Xl(r,e,g,f,w),c=0;c<w;c++)(p=r.__k[c])!=null&&(d=p.__i==-1?Se:g[p.__i]||Se,p.__i=c,y=er(n,p,d,o,a,s,u,f,l,h),_=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&nr(d.ref,null,p),h.push(p.ref,p.__c||_,p)),m==null&&_!=null&&(m=_),4&p.__u||d.__k===p.__k?f=lo(p,f,n):typeof p.type=="function"&&y!==void 0?f=y:_&&(f=_.nextSibling),p.__u&=-7);return r.__e=m,f}function Xl(n,e,r,i,o){var a,s,u,f,l,h=r.length,c=h,d=0;for(n.__k=new Array(o),a=0;a<o;a++)(s=e[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(f=a+d,(s=n.__k[a]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ge(null,s,null,null,null):un(s)?ge(fn,{children:s},null,null,null):s.constructor==null&&s.__b>0?ge(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=n,s.__b=n.__b+1,u=null,(l=s.__i=Jl(s,r,f,c))!=-1&&(c--,(u=r[l])&&(u.__u|=2)),u==null||u.__v==null?(l==-1&&(o>h?d--:o<h&&d++),typeof s.type!="function"&&(s.__u|=4)):l!=f&&(l==f-1?d--:l==f+1?d++:(l>f?d--:d++,s.__u|=4))):n.__k[a]=null;if(c)for(a=0;a<h;a++)(u=r[a])!=null&&(2&u.__u)==0&&(u.__e==i&&(i=ne(u)),po(u,u));return i}function lo(n,e,r){var i,o;if(typeof n.type=="function"){for(i=n.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=n,e=lo(i[o],e,r));return e}n.__e!=e&&(e&&n.type&&!r.contains(e)&&(e=ne(n)),r.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Jl(n,e,r,i){var o,a,s=n.key,u=n.type,f=e[r];if(f===null&&n.key==null||f&&s==f.key&&u==f.type&&(2&f.__u)==0)return r;if(i>(f!=null&&(2&f.__u)==0?1:0))for(o=r-1,a=r+1;o>=0||a<e.length;){if(o>=0){if((f=e[o])&&(2&f.__u)==0&&s==f.key&&u==f.type)return o;o--}if(a<e.length){if((f=e[a])&&(2&f.__u)==0&&s==f.key&&u==f.type)return a;a++}}return-1}function Wr(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||Gl.test(e)?r:r+"px"}function De(n,e,r,i,o){var a,s;t:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)r&&e in r||Wr(n.style,e,"");if(r)for(e in r)i&&r[e]==i[e]||Wr(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(ao,"$1")),s=e.toLowerCase(),e=s in n||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+a]=r,r?i?r.u=i.u:(r.u=Kn,n.addEventListener(e,a?$n:Fn,a)):n.removeEventListener(e,a?$n:Fn,a);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function Xr(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=Kn++;else if(e.t<r.u)return;return r(W.event?W.event(e):e)}}}function er(n,e,r,i,o,a,s,u,f,l){var h,c,d,p,_,m,y,g,w,b,v,x,S,E,k,N,M,I=e.type;if(e.constructor!=null)return null;128&r.__u&&(f=!!(32&r.__u),a=[u=e.__e=r.__e]),(h=W.__b)&&h(e);t:if(typeof I=="function")try{if(g=e.props,w="prototype"in I&&I.prototype.render,b=(h=I.contextType)&&i[h.__c],v=h?b?b.props.value:h.__:i,r.__c?y=(c=e.__c=r.__c).__=c.__E:(w?e.__c=c=new I(g,v):(e.__c=c=new je(g,v),c.constructor=I,c.render=Zl),b&&b.sub(c),c.props=g,c.state||(c.state={}),c.context=v,c.__n=i,d=c.__d=!0,c.__h=[],c._sb=[]),w&&c.__s==null&&(c.__s=c.state),w&&I.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=bt({},c.__s)),bt(c.__s,I.getDerivedStateFromProps(g,c.__s))),p=c.props,_=c.state,c.__v=e,d)w&&I.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),w&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w&&I.getDerivedStateFromProps==null&&g!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,v),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,v)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(c.props=g,c.state=c.__s,c.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(D){D&&(D.__=e)}),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,v),w&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,_,m)})}if(c.context=v,c.props=g,c.__P=n,c.__e=!1,S=W.__r,E=0,w){for(c.state=c.__s,c.__d=!1,S&&S(e),h=c.render(c.props,c.state,c.context),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[]}else do c.__d=!1,S&&S(e),h=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(i=bt(bt({},i),c.getChildContext())),w&&!d&&c.getSnapshotBeforeUpdate!=null&&(m=c.getSnapshotBeforeUpdate(p,_)),N=h,h!=null&&h.type===fn&&h.key==null&&(N=ho(h.props.children)),u=fo(n,un(N)?N:[N],e,r,i,o,a,s,u,f,l),c.base=e.__e,e.__u&=-161,c.__h.length&&s.push(c),y&&(c.__E=c.__=null)}catch(D){if(e.__v=null,f||a!=null)if(D.then){for(e.__u|=f?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;a[a.indexOf(u)]=null,e.__e=u}else for(M=a.length;M--;)tr(a[M]);else e.__e=r.__e,e.__k=r.__k;W.__e(D,e,r)}else a==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):u=e.__e=Ql(r.__e,e,r,i,o,a,s,f,l);return(h=W.diffed)&&h(e),128&e.__u?void 0:u}function co(n,e,r){for(var i=0;i<r.length;i++)nr(r[i],r[++i],r[++i]);W.__c&&W.__c(e,n),n.some(function(o){try{n=o.__h,o.__h=[],n.some(function(a){a.call(o)})}catch(a){W.__e(a,o.__v)}})}function ho(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:un(n)?n.map(ho):bt({},n)}function Ql(n,e,r,i,o,a,s,u,f){var l,h,c,d,p,_,m,y=r.props,g=e.props,w=e.type;if(w=="svg"?o="http://www.w3.org/2000/svg":w=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(l=0;l<a.length;l++)if((p=a[l])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){n=p,a[l]=null;break}}if(n==null){if(w==null)return document.createTextNode(g);n=document.createElementNS(o,w,g.is&&g),u&&(W.__m&&W.__m(e,a),u=!1),a=null}if(w==null)y===g||u&&n.data==g||(n.data=g);else{if(a=a&&Me.call(n.childNodes),y=r.props||Se,!u&&a!=null)for(y={},l=0;l<n.attributes.length;l++)y[(p=n.attributes[l]).name]=p.value;for(l in y)if(p=y[l],l!="children"){if(l=="dangerouslySetInnerHTML")c=p;else if(!(l in g)){if(l=="value"&&"defaultValue"in g||l=="checked"&&"defaultChecked"in g)continue;De(n,l,null,p,o)}}for(l in g)p=g[l],l=="children"?d=p:l=="dangerouslySetInnerHTML"?h=p:l=="value"?_=p:l=="checked"?m=p:u&&typeof p!="function"||y[l]===p||De(n,l,p,y[l],o);if(h)u||c&&(h.__html==c.__html||h.__html==n.innerHTML)||(n.innerHTML=h.__html),e.__k=[];else if(c&&(n.innerHTML=""),fo(e.type=="template"?n.content:n,un(d)?d:[d],e,r,i,w=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,s,a?a[0]:r.__k&&ne(r,0),u,f),a!=null)for(l=a.length;l--;)tr(a[l]);u||(l="value",w=="progress"&&_==null?n.removeAttribute("value"):_!=null&&(_!==n[l]||w=="progress"&&!_||w=="option"&&_!=y[l])&&De(n,l,_,y[l],o),l="checked",m!=null&&m!=n[l]&&De(n,l,m,y[l],o))}return n}function nr(n,e,r){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(o){W.__e(o,r)}}function po(n,e,r){var i,o;if(W.unmount&&W.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||nr(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){W.__e(a,e)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&po(i[o],e,r||typeof n.type!="function");r||tr(n.__e),n.__c=n.__=n.__e=void 0}function Zl(n,e,r){return this.constructor(n,r)}function Kl(n,e,r){var i,o,a,s;e==document&&(e=document.documentElement),W.__&&W.__(n,e),o=(i=!1)?null:e.__k,a=[],s=[],er(e,n=e.__k=Wl(fn,null,[n]),o||Se,Se,e.namespaceURI,o?null:e.firstChild?Me.call(e.childNodes):null,a,o?o.__e:e.firstChild,i,s),co(a,n,s)}function go(n,e,r){var i,o,a,s,u=bt({},n.props);for(a in n.type&&n.type.defaultProps&&(s=n.type.defaultProps),e)a=="key"?i=e[a]:a=="ref"?o=e[a]:u[a]=e[a]===void 0&&s!=null?s[a]:e[a];return arguments.length>2&&(u.children=arguments.length>3?Me.call(arguments,2):r),ge(n.type,u,i||n.key,o||n.ref,null)}Me=so.slice,W={__e:function(n,e,r,i){for(var o,a,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(n)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(n,i||{}),s=o.__d),s)return o.__E=o}catch(u){n=u}throw n}},no=0,ro=function(n){return n!=null&&n.constructor==null},je.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=bt({},this.state),typeof n=="function"&&(n=n(bt({},r),this.props)),n&&bt(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),Gr(this))},je.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Gr(this))},je.prototype.render=fn,qt=[],io=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oo=function(n,e){return n.__v.__b-e.__v.__b},Qe.__r=0,ao=/(PointerCapture)$|Capture$/i,Kn=0,Fn=Xr(!1),$n=Xr(!0);function Jr(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function tc(n){if(Array.isArray(n))return n}function ec(n,e,r){return(e=sc(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function nc(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,s,u=[],f=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(f=(i=a.call(r)).done)&&(u.push(i.value),u.length!==e);f=!0);}catch(h){l=!0,o=h}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return u}}function rc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qr(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function ic(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qr(Object(r),!0).forEach(function(i){ec(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function oc(n,e){return tc(n)||nc(n,e)||uc(n,e)||rc()}function ac(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sc(n){var e=ac(n,"string");return typeof e=="symbol"?e:e+""}function Ze(n){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(n)}function uc(n,e){if(n){if(typeof n=="string")return Jr(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jr(n,e):void 0}}var Un=function(e){if(Ze(e)!=="object")return e;var r=go(e);if(r.props){var i;r.props=ic({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Un):Un(r.props.children))}return r},fc=function(e){return ro(go(e))},lc=function(e,r){delete r.__k,Kl(Un(e),r)};function cc(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var hc=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;cc(hc);var dc=Zn({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.style,a=o===void 0?{}:o,s=!!e&&Ze(e)==="object"&&!!e.node&&typeof e.node=="function",u=ct(s?e.node():e);u.style("position")==="static"&&u.style("position","relative"),r.tooltipEl=u.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(l){var h=oc(l,2),c=h[0],d=h[1];return r.tooltipEl.style(c,d)}),r.tooltipEl.style("left","-10000px").style("display","none");var f="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,u.on("mousemove.".concat(f),function(l){r.mouseInside=!0;var h=xt(l),c=u.node(),d=c.offsetWidth,p=c.offsetHeight,_=[r.offsetX===null||r.offsetX===void 0?"-".concat(h[0]/d*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-h[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(_.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),u.on("mouseover.".concat(f),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),u.on("mouseout.".concat(f),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):fc(e.content)?(e.tooltipEl.text(""),lc(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function pc(n,e,r){var i,o=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function a(){var s,u=i.length,f,l=0,h=0,c=0;for(s=0;s<u;++s)f=i[s],l+=f.x||0,h+=f.y||0,c+=f.z||0;for(l=(l/u-n)*o,h=(h/u-e)*o,c=(c/u-r)*o,s=0;s<u;++s)f=i[s],l&&(f.x-=l),h&&(f.y-=h),c&&(f.z-=c)}return a.initialize=function(s){i=s},a.x=function(s){return arguments.length?(n=+s,a):n},a.y=function(s){return arguments.length?(e=+s,a):e},a.z=function(s){return arguments.length?(r=+s,a):r},a.strength=function(s){return arguments.length?(o=+s,a):o},a}function gc(n){const e=+this._x.call(null,n);return _o(this.cover(e),e,n)}function _o(n,e,r){if(isNaN(e))return n;var i,o=n._root,a={data:r},s=n._x0,u=n._x1,f,l,h,c,d;if(!o)return n._root=a,n;for(;o.length;)if((h=e>=(f=(s+u)/2))?s=f:u=f,i=o,!(o=o[c=+h]))return i[c]=a,n;if(l=+n._x.call(null,o.data),e===l)return a.next=o,i?i[c]=a:n._root=a,n;do i=i?i[c]=new Array(2):n._root=new Array(2),(h=e>=(f=(s+u)/2))?s=f:u=f;while((c=+h)==(d=+(l>=f)));return i[d]=o,i[c]=a,n}function _c(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let i=1/0,o=-1/0;for(let a=0,s;a<e;++a)isNaN(s=+this._x.call(null,n[a]))||(r[a]=s,s<i&&(i=s),s>o&&(o=s));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<e;++a)_o(this,r[a],n[a]);return this}function yc(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var i=r-e||1,o=this._root,a,s;e>n||n>=r;)switch(s=+(n<e),a=new Array(2),a[s]=o,o=a,i*=2,s){case 0:r=e+i;break;case 1:e=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._x1=r,this}function mc(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function vc(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ft(n,e,r){this.node=n,this.x0=e,this.x1=r}function xc(n,e){var r,i=this._x0,o,a,s=this._x1,u=[],f=this._root,l,h;for(f&&u.push(new Ft(f,i,s)),e==null?e=1/0:(i=n-e,s=n+e);l=u.pop();)if(!(!(f=l.node)||(o=l.x0)>s||(a=l.x1)<i))if(f.length){var c=(o+a)/2;u.push(new Ft(f[1],c,a),new Ft(f[0],o,c)),(h=+(n>=c))&&(l=u[u.length-1],u[u.length-1]=u[u.length-1-h],u[u.length-1-h]=l)}else{var d=Math.abs(n-+this._x.call(null,f.data));d<e&&(e=d,i=n-d,s=n+d,r=f.data)}return r}function wc(n){if(isNaN(f=+this._x.call(null,n)))return this;var e,r=this._root,i,o,a,s=this._x0,u=this._x1,f,l,h,c,d;if(!r)return this;if(r.length)for(;;){if((h=f>=(l=(s+u)/2))?s=l:u=l,e=r,!(r=r[c=+h]))return this;if(!r.length)break;e[c+1&1]&&(i=e,d=c)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):e?(a?e[c]=a:delete e[c],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(i?i[d]=r:this._root=r),this):(this._root=a,this)}function bc(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Ac(){return this._root}function Sc(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Ec(n){var e=[],r,i=this._root,o,a,s;for(i&&e.push(new Ft(i,this._x0,this._x1));r=e.pop();)if(!n(i=r.node,a=r.x0,s=r.x1)&&i.length){var u=(a+s)/2;(o=i[1])&&e.push(new Ft(o,u,s)),(o=i[0])&&e.push(new Ft(o,a,u))}return this}function kc(n){var e=[],r=[],i;for(this._root&&e.push(new Ft(this._root,this._x0,this._x1));i=e.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.x1,f=(s+u)/2;(a=o[0])&&e.push(new Ft(a,s,f)),(a=o[1])&&e.push(new Ft(a,f,u))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.x1);return this}function Cc(n){return n[0]}function Ic(n){return arguments.length?(this._x=n,this):this._x}function yo(n,e){var r=new rr(e??Cc,NaN,NaN);return n==null?r:r.addAll(n)}function rr(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function Zr(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var rt=yo.prototype=rr.prototype;rt.copy=function(){var n=new rr(this._x,this._x0,this._x1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Zr(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var o=0;o<2;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(2)}):e.target[o]=Zr(i));return n};rt.add=gc;rt.addAll=_c;rt.cover=yc;rt.data=mc;rt.extent=vc;rt.find=xc;rt.remove=wc;rt.removeAll=bc;rt.root=Ac;rt.size=Sc;rt.visit=Ec;rt.visitAfter=kc;rt.x=Ic;function Mc(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return mo(this.cover(e,r),e,r,n)}function mo(n,e,r,i){if(isNaN(e)||isNaN(r))return n;var o,a=n._root,s={data:i},u=n._x0,f=n._y0,l=n._x1,h=n._y1,c,d,p,_,m,y,g,w;if(!a)return n._root=s,n;for(;a.length;)if((m=e>=(c=(u+l)/2))?u=c:l=c,(y=r>=(d=(f+h)/2))?f=d:h=d,o=a,!(a=a[g=y<<1|m]))return o[g]=s,n;if(p=+n._x.call(null,a.data),_=+n._y.call(null,a.data),e===p&&r===_)return s.next=a,o?o[g]=s:n._root=s,n;do o=o?o[g]=new Array(4):n._root=new Array(4),(m=e>=(c=(u+l)/2))?u=c:l=c,(y=r>=(d=(f+h)/2))?f=d:h=d;while((g=y<<1|m)===(w=(_>=d)<<1|p>=c));return o[w]=a,o[g]=s,n}function Oc(n){var e,r,i=n.length,o,a,s=new Array(i),u=new Array(i),f=1/0,l=1/0,h=-1/0,c=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,e=n[r]))||isNaN(a=+this._y.call(null,e))||(s[r]=o,u[r]=a,o<f&&(f=o),o>h&&(h=o),a<l&&(l=a),a>c&&(c=a));if(f>h||l>c)return this;for(this.cover(f,l).cover(h,c),r=0;r<i;++r)mo(this,s[r],u[r],n[r]);return this}function Tc(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(n))+1,a=(i=Math.floor(e))+1;else{for(var s=o-r||1,u=this._root,f,l;r>n||n>=o||i>e||e>=a;)switch(l=(e<i)<<1|n<r,f=new Array(4),f[l]=u,u=f,s*=2,l){case 0:o=r+s,a=i+s;break;case 1:r=o-s,a=i+s;break;case 2:o=r+s,i=a-s;break;case 3:r=o-s,i=a-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function Rc(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Nc(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function tt(n,e,r,i,o){this.node=n,this.x0=e,this.y0=r,this.x1=i,this.y1=o}function Pc(n,e,r){var i,o=this._x0,a=this._y0,s,u,f,l,h=this._x1,c=this._y1,d=[],p=this._root,_,m;for(p&&d.push(new tt(p,o,a,h,c)),r==null?r=1/0:(o=n-r,a=e-r,h=n+r,c=e+r,r*=r);_=d.pop();)if(!(!(p=_.node)||(s=_.x0)>h||(u=_.y0)>c||(f=_.x1)<o||(l=_.y1)<a))if(p.length){var y=(s+f)/2,g=(u+l)/2;d.push(new tt(p[3],y,g,f,l),new tt(p[2],s,g,y,l),new tt(p[1],y,u,f,g),new tt(p[0],s,u,y,g)),(m=(e>=g)<<1|n>=y)&&(_=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=_)}else{var w=n-+this._x.call(null,p.data),b=e-+this._y.call(null,p.data),v=w*w+b*b;if(v<r){var x=Math.sqrt(r=v);o=n-x,a=e-x,h=n+x,c=e+x,i=p.data}}return i}function Dc(n){if(isNaN(h=+this._x.call(null,n))||isNaN(c=+this._y.call(null,n)))return this;var e,r=this._root,i,o,a,s=this._x0,u=this._y0,f=this._x1,l=this._y1,h,c,d,p,_,m,y,g;if(!r)return this;if(r.length)for(;;){if((_=h>=(d=(s+f)/2))?s=d:f=d,(m=c>=(p=(u+l)/2))?u=p:l=p,e=r,!(r=r[y=m<<1|_]))return this;if(!r.length)break;(e[y+1&3]||e[y+2&3]||e[y+3&3])&&(i=e,g=y)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):e?(a?e[y]=a:delete e[y],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=a,this)}function zc(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function Fc(){return this._root}function $c(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Uc(n){var e=[],r,i=this._root,o,a,s,u,f;for(i&&e.push(new tt(i,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(i=r.node,a=r.x0,s=r.y0,u=r.x1,f=r.y1)&&i.length){var l=(a+u)/2,h=(s+f)/2;(o=i[3])&&e.push(new tt(o,l,h,u,f)),(o=i[2])&&e.push(new tt(o,a,h,l,f)),(o=i[1])&&e.push(new tt(o,l,s,u,h)),(o=i[0])&&e.push(new tt(o,a,s,l,h))}return this}function Lc(n){var e=[],r=[],i;for(this._root&&e.push(new tt(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.y0,f=i.x1,l=i.y1,h=(s+f)/2,c=(u+l)/2;(a=o[0])&&e.push(new tt(a,s,u,h,c)),(a=o[1])&&e.push(new tt(a,h,u,f,c)),(a=o[2])&&e.push(new tt(a,s,c,h,l)),(a=o[3])&&e.push(new tt(a,h,c,f,l))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function jc(n){return n[0]}function Bc(n){return arguments.length?(this._x=n,this):this._x}function qc(n){return n[1]}function Hc(n){return arguments.length?(this._y=n,this):this._y}function ir(n,e,r){var i=new or(e??jc,r??qc,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function or(n,e,r,i,o,a){this._x=n,this._y=e,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function Kr(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var et=ir.prototype=or.prototype;et.copy=function(){var n=new or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=Kr(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var o=0;o<4;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(4)}):e.target[o]=Kr(i));return n};et.add=Mc;et.addAll=Oc;et.cover=Tc;et.data=Rc;et.extent=Nc;et.find=Pc;et.remove=Dc;et.removeAll=zc;et.root=Fc;et.size=$c;et.visit=Uc;et.visitAfter=Lc;et.x=Bc;et.y=Hc;function Vc(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),i=+this._z.call(null,n);return vo(this.cover(e,r,i),e,r,i,n)}function vo(n,e,r,i,o){if(isNaN(e)||isNaN(r)||isNaN(i))return n;var a,s=n._root,u={data:o},f=n._x0,l=n._y0,h=n._z0,c=n._x1,d=n._y1,p=n._z1,_,m,y,g,w,b,v,x,S,E,k;if(!s)return n._root=u,n;for(;s.length;)if((v=e>=(_=(f+c)/2))?f=_:c=_,(x=r>=(m=(l+d)/2))?l=m:d=m,(S=i>=(y=(h+p)/2))?h=y:p=y,a=s,!(s=s[E=S<<2|x<<1|v]))return a[E]=u,n;if(g=+n._x.call(null,s.data),w=+n._y.call(null,s.data),b=+n._z.call(null,s.data),e===g&&r===w&&i===b)return u.next=s,a?a[E]=u:n._root=u,n;do a=a?a[E]=new Array(8):n._root=new Array(8),(v=e>=(_=(f+c)/2))?f=_:c=_,(x=r>=(m=(l+d)/2))?l=m:d=m,(S=i>=(y=(h+p)/2))?h=y:p=y;while((E=S<<2|x<<1|v)===(k=(b>=y)<<2|(w>=m)<<1|g>=_));return a[k]=s,a[E]=u,n}function Yc(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),i=new Float64Array(e),o=new Float64Array(e);let a=1/0,s=1/0,u=1/0,f=-1/0,l=-1/0,h=-1/0;for(let c=0,d,p,_,m;c<e;++c)isNaN(p=+this._x.call(null,d=n[c]))||isNaN(_=+this._y.call(null,d))||isNaN(m=+this._z.call(null,d))||(r[c]=p,i[c]=_,o[c]=m,p<a&&(a=p),p>f&&(f=p),_<s&&(s=_),_>l&&(l=_),m<u&&(u=m),m>h&&(h=m));if(a>f||s>l||u>h)return this;this.cover(a,s,u).cover(f,l,h);for(let c=0;c<e;++c)vo(this,r[c],i[c],o[c],n[c]);return this}function Gc(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,s=this._x1,u=this._y1,f=this._z1;if(isNaN(i))s=(i=Math.floor(n))+1,u=(o=Math.floor(e))+1,f=(a=Math.floor(r))+1;else{for(var l=s-i||1,h=this._root,c,d;i>n||n>=s||o>e||e>=u||a>r||r>=f;)switch(d=(r<a)<<2|(e<o)<<1|n<i,c=new Array(8),c[d]=h,h=c,l*=2,d){case 0:s=i+l,u=o+l,f=a+l;break;case 1:i=s-l,u=o+l,f=a+l;break;case 2:s=i+l,o=u-l,f=a+l;break;case 3:i=s-l,o=u-l,f=a+l;break;case 4:s=i+l,u=o+l,a=f-l;break;case 5:i=s-l,u=o+l,a=f-l;break;case 6:s=i+l,o=u-l,a=f-l;break;case 7:i=s-l,o=u-l,a=f-l;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=u,this._z1=f,this}function Wc(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Xc(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function V(n,e,r,i,o,a,s){this.node=n,this.x0=e,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=s}function Jc(n,e,r,i){var o,a=this._x0,s=this._y0,u=this._z0,f,l,h,c,d,p,_=this._x1,m=this._y1,y=this._z1,g=[],w=this._root,b,v;for(w&&g.push(new V(w,a,s,u,_,m,y)),i==null?i=1/0:(a=n-i,s=e-i,u=r-i,_=n+i,m=e+i,y=r+i,i*=i);b=g.pop();)if(!(!(w=b.node)||(f=b.x0)>_||(l=b.y0)>m||(h=b.z0)>y||(c=b.x1)<a||(d=b.y1)<s||(p=b.z1)<u))if(w.length){var x=(f+c)/2,S=(l+d)/2,E=(h+p)/2;g.push(new V(w[7],x,S,E,c,d,p),new V(w[6],f,S,E,x,d,p),new V(w[5],x,l,E,c,S,p),new V(w[4],f,l,E,x,S,p),new V(w[3],x,S,h,c,d,E),new V(w[2],f,S,h,x,d,E),new V(w[1],x,l,h,c,S,E),new V(w[0],f,l,h,x,S,E)),(v=(r>=E)<<2|(e>=S)<<1|n>=x)&&(b=g[g.length-1],g[g.length-1]=g[g.length-1-v],g[g.length-1-v]=b)}else{var k=n-+this._x.call(null,w.data),N=e-+this._y.call(null,w.data),M=r-+this._z.call(null,w.data),I=k*k+N*N+M*M;if(I<i){var D=Math.sqrt(i=I);a=n-D,s=e-D,u=r-D,_=n+D,m=e+D,y=r+D,o=w.data}}return o}const Qc=(n,e,r,i,o,a)=>Math.sqrt((n-i)**2+(e-o)**2+(r-a)**2);function Zc(n,e,r,i){const o=[],a=n-i,s=e-i,u=r-i,f=n+i,l=e+i,h=r+i;return this.visit((c,d,p,_,m,y,g)=>{if(!c.length)do{const w=c.data;Qc(n,e,r,this._x(w),this._y(w),this._z(w))<=i&&o.push(w)}while(c=c.next);return d>f||p>l||_>h||m<a||y<s||g<u}),o}function Kc(n){if(isNaN(d=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,r=this._root,i,o,a,s=this._x0,u=this._y0,f=this._z0,l=this._x1,h=this._y1,c=this._z1,d,p,_,m,y,g,w,b,v,x,S;if(!r)return this;if(r.length)for(;;){if((w=d>=(m=(s+l)/2))?s=m:l=m,(b=p>=(y=(u+h)/2))?u=y:h=y,(v=_>=(g=(f+c)/2))?f=g:c=g,e=r,!(r=r[x=v<<2|b<<1|w]))return this;if(!r.length)break;(e[x+1&7]||e[x+2&7]||e[x+3&7]||e[x+4&7]||e[x+5&7]||e[x+6&7]||e[x+7&7])&&(i=e,S=x)}for(;r.data!==n;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):e?(a?e[x]=a:delete e[x],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(i?i[S]=r:this._root=r),this):(this._root=a,this)}function th(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function eh(){return this._root}function nh(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function rh(n){var e=[],r,i=this._root,o,a,s,u,f,l,h;for(i&&e.push(new V(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(i=r.node,a=r.x0,s=r.y0,u=r.z0,f=r.x1,l=r.y1,h=r.z1)&&i.length){var c=(a+f)/2,d=(s+l)/2,p=(u+h)/2;(o=i[7])&&e.push(new V(o,c,d,p,f,l,h)),(o=i[6])&&e.push(new V(o,a,d,p,c,l,h)),(o=i[5])&&e.push(new V(o,c,s,p,f,d,h)),(o=i[4])&&e.push(new V(o,a,s,p,c,d,h)),(o=i[3])&&e.push(new V(o,c,d,u,f,l,p)),(o=i[2])&&e.push(new V(o,a,d,u,c,l,p)),(o=i[1])&&e.push(new V(o,c,s,u,f,d,p)),(o=i[0])&&e.push(new V(o,a,s,u,c,d,p))}return this}function ih(n){var e=[],r=[],i;for(this._root&&e.push(new V(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.y0,f=i.z0,l=i.x1,h=i.y1,c=i.z1,d=(s+l)/2,p=(u+h)/2,_=(f+c)/2;(a=o[0])&&e.push(new V(a,s,u,f,d,p,_)),(a=o[1])&&e.push(new V(a,d,u,f,l,p,_)),(a=o[2])&&e.push(new V(a,s,p,f,d,h,_)),(a=o[3])&&e.push(new V(a,d,p,f,l,h,_)),(a=o[4])&&e.push(new V(a,s,u,_,d,p,c)),(a=o[5])&&e.push(new V(a,d,u,_,l,p,c)),(a=o[6])&&e.push(new V(a,s,p,_,d,h,c)),(a=o[7])&&e.push(new V(a,d,p,_,l,h,c))}r.push(i)}for(;i=r.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function oh(n){return n[0]}function ah(n){return arguments.length?(this._x=n,this):this._x}function sh(n){return n[1]}function uh(n){return arguments.length?(this._y=n,this):this._y}function fh(n){return n[2]}function lh(n){return arguments.length?(this._z=n,this):this._z}function xo(n,e,r,i){var o=new ar(e??oh,r??sh,i??fh,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?o:o.addAll(n)}function ar(n,e,r,i,o,a,s,u,f){this._x=n,this._y=e,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=u,this._z1=f,this._root=void 0}function ti(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Z=xo.prototype=ar.prototype;Z.copy=function(){var n=new ar(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,i;if(!e)return n;if(!e.length)return n._root=ti(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var o=0;o<8;++o)(i=e.source[o])&&(i.length?r.push({source:i,target:e.target[o]=new Array(8)}):e.target[o]=ti(i));return n};Z.add=Vc;Z.addAll=Yc;Z.cover=Gc;Z.data=Wc;Z.extent=Xc;Z.find=Jc;Z.findAllWithinRadius=Zc;Z.remove=Kc;Z.removeAll=th;Z.root=eh;Z.size=nh;Z.visit=rh;Z.visitAfter=ih;Z.x=ah;Z.y=uh;Z.z=lh;function Dt(n){return function(){return n}}function Nt(n){return(n()-.5)*1e-6}function ch(n){return n.index}function ei(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function hh(n){var e=ch,r=d,i,o=Dt(30),a,s,u,f,l,h,c=1;n==null&&(n=[]);function d(g){return 1/Math.min(f[g.source.index],f[g.target.index])}function p(g){for(var w=0,b=n.length;w<c;++w)for(var v=0,x,S,E,k=0,N=0,M=0,I,D;v<b;++v)x=n[v],S=x.source,E=x.target,k=E.x+E.vx-S.x-S.vx||Nt(h),u>1&&(N=E.y+E.vy-S.y-S.vy||Nt(h)),u>2&&(M=E.z+E.vz-S.z-S.vz||Nt(h)),I=Math.sqrt(k*k+N*N+M*M),I=(I-a[v])/I*g*i[v],k*=I,N*=I,M*=I,E.vx-=k*(D=l[v]),u>1&&(E.vy-=N*D),u>2&&(E.vz-=M*D),S.vx+=k*(D=1-D),u>1&&(S.vy+=N*D),u>2&&(S.vz+=M*D)}function _(){if(s){var g,w=s.length,b=n.length,v=new Map(s.map((S,E)=>[e(S,E,s),S])),x;for(g=0,f=new Array(w);g<b;++g)x=n[g],x.index=g,typeof x.source!="object"&&(x.source=ei(v,x.source)),typeof x.target!="object"&&(x.target=ei(v,x.target)),f[x.source.index]=(f[x.source.index]||0)+1,f[x.target.index]=(f[x.target.index]||0)+1;for(g=0,l=new Array(b);g<b;++g)x=n[g],l[g]=f[x.source.index]/(f[x.source.index]+f[x.target.index]);i=new Array(b),m(),a=new Array(b),y()}}function m(){if(s)for(var g=0,w=n.length;g<w;++g)i[g]=+r(n[g],g,n)}function y(){if(s)for(var g=0,w=n.length;g<w;++g)a[g]=+o(n[g],g,n)}return p.initialize=function(g,...w){s=g,h=w.find(b=>typeof b=="function")||Math.random,u=w.find(b=>[1,2,3].includes(b))||2,_()},p.links=function(g){return arguments.length?(n=g,_(),p):n},p.id=function(g){return arguments.length?(e=g,p):e},p.iterations=function(g){return arguments.length?(c=+g,p):c},p.strength=function(g){return arguments.length?(r=typeof g=="function"?g:Dt(+g),m(),p):r},p.distance=function(g){return arguments.length?(o=typeof g=="function"?g:Dt(+g),y(),p):o},p}const dh=1664525,ph=1013904223,ni=4294967296;function gh(){let n=1;return()=>(n=(dh*n+ph)%ni)/ni}var ri=3;function xn(n){return n.x}function ii(n){return n.y}function _h(n){return n.z}var yh=10,mh=Math.PI*(3-Math.sqrt(5)),vh=Math.PI*20/(9+Math.sqrt(221));function xh(n,e){e=e||2;var r=Math.min(ri,Math.max(1,Math.round(e))),i,o=1,a=.001,s=1-Math.pow(a,1/300),u=0,f=.6,l=new Map,h=Wn(p),c=Ce("tick","end"),d=gh();n==null&&(n=[]);function p(){_(),c.call("tick",i),o<a&&(h.stop(),c.call("end",i))}function _(g){var w,b=n.length,v;g===void 0&&(g=1);for(var x=0;x<g;++x)for(o+=(u-o)*s,l.forEach(function(S){S(o)}),w=0;w<b;++w)v=n[w],v.fx==null?v.x+=v.vx*=f:(v.x=v.fx,v.vx=0),r>1&&(v.fy==null?v.y+=v.vy*=f:(v.y=v.fy,v.vy=0)),r>2&&(v.fz==null?v.z+=v.vz*=f:(v.z=v.fz,v.vz=0));return i}function m(){for(var g=0,w=n.length,b;g<w;++g){if(b=n[g],b.index=g,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),b.fz!=null&&(b.z=b.fz),isNaN(b.x)||r>1&&isNaN(b.y)||r>2&&isNaN(b.z)){var v=yh*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),x=g*mh,S=g*vh;r===1?b.x=v:r===2?(b.x=v*Math.cos(x),b.y=v*Math.sin(x)):(b.x=v*Math.sin(x)*Math.cos(S),b.y=v*Math.cos(x),b.z=v*Math.sin(x)*Math.sin(S))}(isNaN(b.vx)||r>1&&isNaN(b.vy)||r>2&&isNaN(b.vz))&&(b.vx=0,r>1&&(b.vy=0),r>2&&(b.vz=0))}}function y(g){return g.initialize&&g.initialize(n,d,r),g}return m(),i={tick:_,restart:function(){return h.restart(p),i},stop:function(){return h.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(ri,Math.max(1,Math.round(g))),l.forEach(y),i):r},nodes:function(g){return arguments.length?(n=g,m(),l.forEach(y),i):n},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(a=+g,i):a},alphaDecay:function(g){return arguments.length?(s=+g,i):+s},alphaTarget:function(g){return arguments.length?(u=+g,i):u},velocityDecay:function(g){return arguments.length?(f=1-g,i):1-f},randomSource:function(g){return arguments.length?(d=g,l.forEach(y),i):d},force:function(g,w){return arguments.length>1?(w==null?l.delete(g):l.set(g,y(w)),i):l.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),w=g.shift()||0,b=(r>1?g.shift():null)||0,v=(r>2?g.shift():null)||0,x=g.shift()||1/0,S=0,E=n.length,k,N,M,I,D,T;for(x*=x,S=0;S<E;++S)D=n[S],k=w-D.x,N=b-(D.y||0),M=v-(D.z||0),I=k*k+N*N+M*M,I<x&&(T=D,x=I);return T},on:function(g,w){return arguments.length>1?(c.on(g,w),i):c.on(g)}}}function wh(){var n,e,r,i,o,a=Dt(-30),s,u=1,f=1/0,l=.81;function h(_){var m,y=n.length,g=(e===1?yo(n,xn):e===2?ir(n,xn,ii):e===3?xo(n,xn,ii,_h):null).visitAfter(d);for(o=_,m=0;m<y;++m)r=n[m],g.visit(p)}function c(){if(n){var _,m=n.length,y;for(s=new Array(m),_=0;_<m;++_)y=n[_],s[y.index]=+a(y,_,n)}}function d(_){var m=0,y,g,w=0,b,v,x,S,E=_.length;if(E){for(b=v=x=S=0;S<E;++S)(y=_[S])&&(g=Math.abs(y.value))&&(m+=y.value,w+=g,b+=g*(y.x||0),v+=g*(y.y||0),x+=g*(y.z||0));m*=Math.sqrt(4/E),_.x=b/w,e>1&&(_.y=v/w),e>2&&(_.z=x/w)}else{y=_,y.x=y.data.x,e>1&&(y.y=y.data.y),e>2&&(y.z=y.data.z);do m+=s[y.data.index];while(y=y.next)}_.value=m}function p(_,m,y,g,w){if(!_.value)return!0;var b=[y,g,w][e-1],v=_.x-r.x,x=e>1?_.y-r.y:0,S=e>2?_.z-r.z:0,E=b-m,k=v*v+x*x+S*S;if(E*E/l<k)return k<f&&(v===0&&(v=Nt(i),k+=v*v),e>1&&x===0&&(x=Nt(i),k+=x*x),e>2&&S===0&&(S=Nt(i),k+=S*S),k<u&&(k=Math.sqrt(u*k)),r.vx+=v*_.value*o/k,e>1&&(r.vy+=x*_.value*o/k),e>2&&(r.vz+=S*_.value*o/k)),!0;if(_.length||k>=f)return;(_.data!==r||_.next)&&(v===0&&(v=Nt(i),k+=v*v),e>1&&x===0&&(x=Nt(i),k+=x*x),e>2&&S===0&&(S=Nt(i),k+=S*S),k<u&&(k=Math.sqrt(u*k)));do _.data!==r&&(E=s[_.data.index]*o/k,r.vx+=v*E,e>1&&(r.vy+=x*E),e>2&&(r.vz+=S*E));while(_=_.next)}return h.initialize=function(_,...m){n=_,i=m.find(y=>typeof y=="function")||Math.random,e=m.find(y=>[1,2,3].includes(y))||2,c()},h.strength=function(_){return arguments.length?(a=typeof _=="function"?_:Dt(+_),c(),h):a},h.distanceMin=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h.distanceMax=function(_){return arguments.length?(f=_*_,h):Math.sqrt(f)},h.theta=function(_){return arguments.length?(l=_*_,h):Math.sqrt(l)},h}function bh(n,e,r,i){var o,a,s=Dt(.1),u,f;typeof n!="function"&&(n=Dt(+n)),e==null&&(e=0),r==null&&(r=0),i==null&&(i=0);function l(c){for(var d=0,p=o.length;d<p;++d){var _=o[d],m=_.x-e||1e-6,y=(_.y||0)-r||1e-6,g=(_.z||0)-i||1e-6,w=Math.sqrt(m*m+y*y+g*g),b=(f[d]-w)*u[d]*c/w;_.vx+=m*b,a>1&&(_.vy+=y*b),a>2&&(_.vz+=g*b)}}function h(){if(o){var c,d=o.length;for(u=new Array(d),f=new Array(d),c=0;c<d;++c)f[c]=+n(o[c],c,o),u[c]=isNaN(f[c])?0:+s(o[c],c,o)}}return l.initialize=function(c,...d){o=c,a=d.find(p=>[1,2,3].includes(p))||2,h()},l.strength=function(c){return arguments.length?(s=typeof c=="function"?c:Dt(+c),h(),l):s},l.radius=function(c){return arguments.length?(n=typeof c=="function"?c:Dt(+c),h(),l):n},l.x=function(c){return arguments.length?(e=+c,l):e},l.y=function(c){return arguments.length?(r=+c,l):r},l.z=function(c){return arguments.length?(i=+c,l):i},l}const{abs:ae,cos:Rt,sin:Xt,acos:Ah,atan2:se,sqrt:Ut,pow:ut}=Math;function ue(n){return n<0?-ut(-n,1/3):ut(n,1/3)}const wo=Math.PI,ze=2*wo,Lt=wo/2,Sh=1e-6,wn=Number.MAX_SAFE_INTEGER||9007199254740991,bn=Number.MIN_SAFE_INTEGER||-9007199254740991,Eh={x:0,y:0,z:0},R={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),Ut(i)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const i=e.length-1;if(n===1)return e[i].t=1,e[i];const o=1-n;let a=e;if(i===0)return e[0].t=n,e[0];if(i===1){const u={x:o*a[0].x+n*a[1].x,y:o*a[0].y+n*a[1].y,t:n};return r&&(u.z=o*a[0].z+n*a[1].z),u}if(i<4){let u=o*o,f=n*n,l,h,c,d=0;i===2?(a=[a[0],a[1],a[2],Eh],l=u,h=o*n*2,c=f):i===3&&(l=u*o,h=u*n*3,c=o*f*3,d=n*f);const p={x:l*a[0].x+h*a[1].x+c*a[2].x+d*a[3].x,y:l*a[0].y+h*a[1].y+c*a[2].y+d*a[3].y,t:n};return r&&(p.z=l*a[0].z+h*a[1].z+c*a[2].z+d*a[3].z),p}const s=JSON.parse(JSON.stringify(e));for(;s.length>1;){for(let u=0;u<s.length-1;u++)s[u]={x:s[u].x+(s[u+1].x-s[u].x)*n,y:s[u].y+(s[u+1].y-s[u].y)*n},typeof s[u].z<"u"&&(s[u].z=s[u].z+(s[u+1].z-s[u].z)*n);s.splice(s.length-1,1)}return s[0].t=n,s[0]},computeWithRatios:function(n,e,r,i){const o=1-n,a=r,s=e;let u=a[0],f=a[1],l=a[2],h=a[3],c;if(u*=o,f*=n,s.length===2)return c=u+f,{x:(u*s[0].x+f*s[1].x)/c,y:(u*s[0].y+f*s[1].y)/c,z:i?(u*s[0].z+f*s[1].z)/c:!1,t:n};if(u*=o,f*=2*o,l*=n*n,s.length===3)return c=u+f+l,{x:(u*s[0].x+f*s[1].x+l*s[2].x)/c,y:(u*s[0].y+f*s[1].y+l*s[2].y)/c,z:i?(u*s[0].z+f*s[1].z+l*s[2].z)/c:!1,t:n};if(u*=o,f*=1.5*o,l*=3*o,h*=n*n*n,s.length===4)return c=u+f+l+h,{x:(u*s[0].x+f*s[1].x+l*s[2].x+h*s[3].x)/c,y:(u*s[0].y+f*s[1].y+l*s[2].y+h*s[3].y)/c,z:i?(u*s[0].z+f*s[1].z+l*s[2].z+h*s[3].z)/c:!1,t:n}},derive:function(n,e){const r=[];for(let i=n,o=i.length,a=o-1;o>1;o--,a--){const s=[];for(let u=0,f;u<a;u++)f={x:a*(i[u+1].x-i[u].x),y:a*(i[u+1].y-i[u].y)},e&&(f.z=a*(i[u+1].z-i[u].z)),s.push(f);r.push(s),i=s}return r},between:function(n,e,r){return e<=n&&n<=r||R.approximately(n,e)||R.approximately(n,r)},approximately:function(n,e,r){return ae(n-e)<=(r||Sh)},length:function(n){const r=R.Tvalues.length;let i=0;for(let o=0,a;o<r;o++)a=.5*R.Tvalues[o]+.5,i+=R.Cvalues[o]*R.arcfn(a,n);return .5*i},map:function(n,e,r,i,o){const a=r-e,s=o-i,u=n-e,f=u/a;return i+s*f},lerp:function(n,e,r){const i={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(i.z=e.z+n*(r.z-e.z)),i},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(R.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,a=r.x-n.x,s=r.y-n.y,u=i*s-o*a,f=i*a+o*s;return se(u,f)},round:function(n,e){const r=""+n,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+e))},dist:function(n,e){const r=n.x-e.x,i=n.y-e.y;return Ut(r*r+i*i)},closest:function(n,e){let r=ut(2,63),i,o;return n.forEach(function(a,s){o=R.dist(e,a),o<r&&(r=o,i=s)}),{mdist:r,mpos:i}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=ut(n,e)+ut(1-n,e),i=r-1;return ae(i/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=ut(1-n,e),i=ut(n,e)+r;return r/i},lli8:function(n,e,r,i,o,a,s,u){const f=(n*i-e*r)*(o-s)-(n-r)*(o*u-a*s),l=(n*i-e*r)*(a-u)-(e-i)*(o*u-a*s),h=(n-r)*(a-u)-(e-i)*(o-s);return h==0?!1:{x:f/h,y:l/h}},lli4:function(n,e,r,i){const o=n.x,a=n.y,s=e.x,u=e.y,f=r.x,l=r.y,h=i.x,c=i.y;return R.lli8(o,a,s,u,f,l,h,c)},lli:function(n,e){return R.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new Y(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=wn,r=wn,i=bn,o=bn;return n.forEach(function(a){const s=a.bbox();e>s.x.min&&(e=s.x.min),r>s.y.min&&(r=s.y.min),i<s.x.max&&(i=s.x.max),o<s.y.max&&(o=s.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(n,e,r,i,o){if(!R.bboxoverlap(e,i))return[];const a=[],s=[n.startcap,n.forward,n.back,n.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(f){f.virtual||u.forEach(function(l){if(l.virtual)return;const h=f.intersects(l,o);h.length>0&&(h.c1=f,h.c2=l,h.s1=n,h.s2=r,a.push(h))})}),a},makeshape:function(n,e,r){const i=e.points.length,o=n.points.length,a=R.makeline(e.points[i-1],n.points[0]),s=R.makeline(n.points[o-1],e.points[0]),u={startcap:a,forward:n,back:e,endcap:s,bbox:R.findbbox([a,n,e,s])};return u.intersections=function(f){return R.shapeintersections(u,u.bbox,f,f.bbox,r)},u},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let i=wn,o=bn,a,s;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let u=0,f=r.length;u<f;u++)a=r[u],s=n.get(a),s[e]<i&&(i=s[e]),s[e]>o&&(o=s[e]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(n,e){const r=e.p1.x,i=e.p1.y,o=-se(e.p2.y-i,e.p2.x-r),a=function(s){return{x:(s.x-r)*Rt(o)-(s.y-i)*Xt(o),y:(s.x-r)*Xt(o)+(s.y-i)*Rt(o)}};return n.map(a)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,i=R.align(n,e),o=function(E){return 0<=E&&E<=1};if(r===2){const E=i[0].y,k=i[1].y,N=i[2].y,M=E-2*k+N;if(M!==0){const I=-Ut(k*k-E*N),D=-E+k,T=-(I+D)/M,A=-(-I+D)/M;return[T,A].filter(o)}else if(k!==N&&M===0)return[(2*k-N)/(2*k-2*N)].filter(o);return[]}const a=i[0].y,s=i[1].y,u=i[2].y,f=i[3].y;let l=-a+3*s-3*u+f,h=3*a-6*s+3*u,c=-3*a+3*s,d=a;if(R.approximately(l,0)){if(R.approximately(h,0))return R.approximately(c,0)?[]:[-d/c].filter(o);const E=Ut(c*c-4*h*d),k=2*h;return[(E-c)/k,(-c-E)/k].filter(o)}h/=l,c/=l,d/=l;const p=(3*c-h*h)/3,_=p/3,m=(2*h*h*h-9*h*c+27*d)/27,y=m/2,g=y*y+_*_*_;let w,b,v,x,S;if(g<0){const E=-p/3,k=E*E*E,N=Ut(k),M=-m/(2*N),I=M<-1?-1:M>1?1:M,D=Ah(I),T=ue(N),A=2*T;return v=A*Rt(D/3)-h/3,x=A*Rt((D+ze)/3)-h/3,S=A*Rt((D+2*ze)/3)-h/3,[v,x,S].filter(o)}else{if(g===0)return w=y<0?ue(-y):-ue(y),v=2*w-h/3,x=-w-h/3,[v,x].filter(o);{const E=Ut(g);return w=ue(-y+E),b=ue(y+E),[w-b-h/3].filter(o)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],i=n[2],o=e-2*r+i;if(o!==0){const a=-Ut(r*r-e*i),s=-e+r,u=-(a+s)/o,f=-(-a+s)/o;return[u,f]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,i,o){let a,s,u,f,l=0,h=0;const c=R.compute(n,e),d=R.compute(n,r),p=c.x*c.x+c.y*c.y;if(i?(a=Ut(ut(c.y*d.z-d.y*c.z,2)+ut(c.z*d.x-d.z*c.x,2)+ut(c.x*d.y-d.x*c.y,2)),s=ut(p+c.z*c.z,3/2)):(a=c.x*d.y-c.y*d.x,s=ut(p,3/2)),a===0||s===0)return{k:0,r:0};if(l=a/s,h=s/a,!o){const _=R.curvature(n-.001,e,r,i,!0).k,m=R.curvature(n+.001,e,r,i,!0).k;f=(m-l+(l-_))/2,u=(ae(m-l)+ae(l-_))/2}return{k:l,r:h,dk:f,adk:u}},inflections:function(n){if(n.length<4)return[];const e=R.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,i=e[3].x*e[1].y,o=e[1].x*e[2].y,a=e[3].x*e[2].y,s=18*(-3*r+2*i+3*o-a),u=18*(3*r-i-3*o),f=18*(o-r);if(R.approximately(s,0)){if(!R.approximately(u,0)){let d=-f/u;if(0<=d&&d<=1)return[d]}return[]}const l=2*s;if(R.approximately(l,0))return[];const h=u*u-4*s*f;if(h<0)return[];const c=Math.sqrt(h);return[(c-u)/l,-(u+c)/l].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(n,e){const r=["x","y"],i=r.length;for(let o=0,a,s,u,f;o<i;o++)if(a=r[o],s=n[a].mid,u=e[a].mid,f=(n[a].size+e[a].size)/2,ae(s-u)>=f)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const i=n.bbox(),o=e.bbox(),a=1e5,s=r||.5;if(i.x.size+i.y.size<s&&o.x.size+o.y.size<s)return[(a*(n._t1+n._t2)/2|0)/a+"/"+(a*(e._t1+e._t2)/2|0)/a];let u=n.split(.5),f=e.split(.5),l=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];l=l.filter(function(c){return R.bboxoverlap(c.left.bbox(),c.right.bbox())});let h=[];return l.length===0||(l.forEach(function(c){h=h.concat(R.pairiteration(c.left,c.right,s))}),h=h.filter(function(c,d){return h.indexOf(c)===d})),h},getccenter:function(n,e,r){const i=e.x-n.x,o=e.y-n.y,a=r.x-e.x,s=r.y-e.y,u=i*Rt(Lt)-o*Xt(Lt),f=i*Xt(Lt)+o*Rt(Lt),l=a*Rt(Lt)-s*Xt(Lt),h=a*Xt(Lt)+s*Rt(Lt),c=(n.x+e.x)/2,d=(n.y+e.y)/2,p=(e.x+r.x)/2,_=(e.y+r.y)/2,m=c+u,y=d+f,g=p+l,w=_+h,b=R.lli8(c,d,m,y,p,_,g,w),v=R.dist(b,n);let x=se(n.y-b.y,n.x-b.x),S=se(e.y-b.y,e.x-b.x),E=se(r.y-b.y,r.x-b.x),k;return x<E?((x>S||S>E)&&(x+=ze),x>E&&(k=E,E=x,x=k)):E<S&&S<x?(k=E,E=x,x=k):E+=ze,b.s=x,b.e=E,b.r=v,b},numberSort:function(n,e){return n-e}};class _e{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return R.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),i=1;i<e.length;i++)R.expandbox(r,e[i].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(e))}),new _e(r)}}const{abs:fe,min:oi,max:ai,cos:kh,sin:Ch,acos:Ih,sqrt:le}=Math,Mh=Math.PI;class Y{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const p=[];r.forEach(function(_){["x","y","z"].forEach(function(m){typeof _[m]<"u"&&p.push(_[m])})}),r=p}let o=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!o&&(a===9||a===12)||e&&e[0]&&typeof e[0].z<"u",u=this.points=[];for(let p=0,_=s?3:2;p<a;p+=_){var f={x:r[p],y:r[p+1]};s&&(f.z=r[p+2]),u.push(f)}const l=this.order=u.length-1,h=this.dims=["x","y"];s&&h.push("z"),this.dimlen=h.length;const c=R.align(u,{p1:u[0],p2:u[l]}),d=R.dist(u[0],u[l]);this._linear=c.reduce((p,_)=>p+fe(_.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new Y(r,r,i);if(o===1)return new Y(e,r,r);const a=Y.getABC(2,e,r,i,o);return new Y(e,a.A,i)}static cubicFromPoints(e,r,i,o,a){typeof o>"u"&&(o=.5);const s=Y.getABC(3,e,r,i,o);typeof a>"u"&&(a=R.dist(r,s.C));const u=a*(1-o)/o,f=R.dist(e,i),l=(i.x-e.x)/f,h=(i.y-e.y)/f,c=a*l,d=a*h,p=u*l,_=u*h,m={x:r.x-c,y:r.y-d},y={x:r.x+p,y:r.y+_},g=s.A,w={x:g.x+(m.x-g.x)/(1-o),y:g.y+(m.y-g.y)/(1-o)},b={x:g.x+(y.x-g.x)/o,y:g.y+(y.y-g.y)/o},v={x:e.x+(w.x-e.x)/o,y:e.y+(w.y-e.y)/o},x={x:i.x+(b.x-i.x)/(1-o),y:i.y+(b.y-i.y)/(1-o)};return new Y(e,v,x,i)}static getUtils(){return R}getUtils(){return Y.getUtils()}static get PolyBezier(){return _e}valueOf(){return this.toString()}toString(){return R.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,i=e[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let a=1,s=e.length;a<s;a++)o.push(e[a].x),o.push(e[a].y);return o.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=R.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=R.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return R.length(this.derivative.bind(this))}static getABC(e=2,r,i,o,a=.5){const s=R.projectionratio(a,e),u=1-s,f={x:s*r.x+u*o.x,y:s*r.y+u*o.y},l=R.abcratio(a,e);return{A:{x:i.x+(i.x-f.x)/l,y:i.y+(i.y-f.y)/l},B:i,C:f,S:r,E:o}}getABC(e,r){r=r||this.get(e);let i=this.points[0],o=this.points[this.order];return Y.getABC(this.order,i,r,o,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,i,o;r<e;r++)o=r/(e-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(e,r){r=r||5;const i=this.getLUT(),o=[];for(let a=0,s,u=0;a<i.length;a++)s=i[a],R.dist(s,e)<r&&(o.push(s),u+=a/i.length);return o.length?t/=o.length:!1}project(e){const r=this.getLUT(),i=r.length-1,o=R.closest(r,e),a=o.mpos,s=(a-1)/i,u=(a+1)/i,f=.1/i;let l=o.mdist,h=s,c=h,d;l+=1;for(let p;h<u+f;h+=f)d=this.compute(h),p=R.dist(e,d),p<l&&(l=p,c=h);return c=c<0?0:c>1?1:c,d=this.compute(c),d.t=c,d.d=l,d}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?R.computeWithRatios(e,this.points,this.ratios,this._3d):R.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],i=e.length;for(let o=1,a,s;o<i;o++)a=e[o],s=e[o-1],r[o]={x:(i-o)/i*a.x+o/i*s.x,y:(i-o)/i*a.y+o/i*s.y};return r[i]=e[i-1],new Y(r)}derivative(e){return R.compute(e,this.dpoints[0],this._3d)}dderivative(e){return R.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new Y(R.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return R.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return R.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),i=le(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/i,y:r.x/i}}__normal3(e){const r=this.derivative(e),i=this.derivative(e+.01),o=le(r.x*r.x+r.y*r.y+r.z*r.z),a=le(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=a,i.y/=a,i.z/=a;const s={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},u=le(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=u,s.y/=u,s.z/=u;const f=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:e,x:f[0]*r.x+f[1]*r.y+f[2]*r.z,y:f[3]*r.x+f[4]*r.y+f[5]*r.z,z:f[6]*r.x+f[7]*r.y+f[8]*r.z}}hull(e){let r=this.points,i=[],o=[],a=0;for(o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],this.order===3&&(o[a++]=r[3]);r.length>1;){i=[];for(let s=0,u,f=r.length-1;s<f;s++)u=R.lerp(e,r[s],r[s+1]),o[a++]=u,i.push(u);r=i}return o}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const i=this.hull(e),o={left:this.order===2?new Y([i[0],i[3],i[5]]):new Y([i[0],i[4],i[7],i[9]]),right:this.order===2?new Y([i[5],i[4],i[2]]):new Y([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=R.map(0,0,1,this._t1,this._t2),o.left._t2=R.map(e,0,1,this._t1,this._t2),o.right._t1=R.map(e,0,1,this._t1,this._t2),o.right._t2=R.map(1,0,1,this._t1,this._t2),r?(r=R.map(r,e,1,0,1),o.right.split(r).left):o}extrema(){const e={};let r=[];return this.dims.forEach((function(i){let o=function(s){return s[i]},a=this.dpoints[0].map(o);e[i]=R.droots(a),this.order===3&&(a=this.dpoints[1].map(o),e[i]=e[i].concat(R.droots(a))),e[i]=e[i].filter(function(s){return s>=0&&s<=1}),r=r.concat(e[i].sort(R.numberSort))}).bind(this)),e.values=r.sort(R.numberSort).filter(function(i,o){return r.indexOf(i)===o}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=R.getminmax(this,i,e[i])}).bind(this)),r}overlaps(e){const r=this.bbox(),i=e.bbox();return R.bboxoverlap(r,i)}offset(e,r){if(typeof r<"u"){const i=this.get(e),o=this.normal(e),a={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(a.z=i.z+o.z*r),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const s={x:a.x+e*i.x,y:a.y+e*i.y};return a.z&&i.z&&(s.z=a.z+e*i.z),s});return[new Y(o)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const o=R.angle(this.points[0],this.points[3],this.points[1]),a=R.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const e=this.normal(0),r=this.normal(1);let i=e.x*r.x+e.y*r.y;return this._3d&&(i+=e.z*r.z),fe(Ih(i))<Mh/3}reduce(){let e,r=0,i=0,o=.01,a,s=[],u=[],f=this.extrema().values;for(f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1),r=f[0],e=1;e<f.length;e++)i=f[e],a=this.split(r,i),a._t1=r,a._t2=i,s.push(a),r=i;return s.forEach(function(l){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(a=l.split(r,i),!a.simple()){if(i-=o,fe(r-i)<o)return[];a=l.split(r,i),a._t1=R.map(r,0,1,l._t1,l._t2),a._t2=R.map(i,0,1,l._t1,l._t2),u.push(a),r=i;break}r<1&&(a=l.split(r,1),a._t1=R.map(r,0,1,l._t1,l._t2),a._t2=l._t2,u.push(a))}),u}translate(e,r,i){i=typeof i=="number"?i:r;const o=this.order;let a=this.points.map((s,u)=>(1-u/o)*r+u/o*i);return new Y(this.points.map((s,u)=>({x:s.x+e.x*a[u],y:s.y+e.y*a[u]})))}scale(e){const r=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&r===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):e,i?i(1):e);const s=i?i(0):e,u=i?i(1):e,f=[this.offset(0,10),this.offset(1,10)],l=[],h=R.lli4(f[0],f[0].c,f[1],f[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(c){const d=l[c*r]=R.copy(a[c*r]);d.x+=(c?u:s)*f[c].n.x,d.y+=(c?u:s)*f[c].n.y}),i?([0,1].forEach(function(c){if(!(r===2&&c)){var d=a[c+1],p={x:d.x-h.x,y:d.y-h.y},_=i?i((c+1)/r):e;i&&!o&&(_=-_);var m=le(p.x*p.x+p.y*p.y);p.x/=m,p.y/=m,l[c+1]={x:d.x+_*p.x,y:d.y+_*p.y}}}),new Y(l)):([0,1].forEach(c=>{if(r===2&&c)return;const d=l[c*r],p=this.derivative(c),_={x:d.x+p.x,y:d.y+p.y};l[c+1]=R.lli4(d,_,h,a[c+1])}),new Y(l))}outline(e,r,i,o){if(r=r===void 0?e:r,this._linear){const x=this.normal(0),S=this.points[0],E=this.points[this.points.length-1];let k,N,M;i===void 0&&(i=e,o=r),k={x:S.x+x.x*e,y:S.y+x.y*e},M={x:E.x+x.x*i,y:E.y+x.y*i},N={x:(k.x+M.x)/2,y:(k.y+M.y)/2};const I=[k,N,M];k={x:S.x-x.x*r,y:S.y-x.y*r},M={x:E.x-x.x*o,y:E.y-x.y*o},N={x:(k.x+M.x)/2,y:(k.y+M.y)/2};const D=[M,N,k],T=R.makeline(D[2],I[0]),A=R.makeline(I[2],D[0]),P=[T,new Y(I),A,new Y(D)];return new _e(P)}const a=this.reduce(),s=a.length,u=[];let f=[],l,h=0,c=this.length();const d=typeof i<"u"&&typeof o<"u";function p(x,S,E,k,N){return function(M){const I=k/E,D=(k+N)/E,T=S-x;return R.map(M,0,1,x+I*T,x+D*T)}}a.forEach(function(x){const S=x.length();d?(u.push(x.scale(p(e,i,c,h,S))),f.push(x.scale(p(-r,-o,c,h,S)))):(u.push(x.scale(e)),f.push(x.scale(-r))),h+=S}),f=f.map(function(x){return l=x.points,l[3]?x.points=[l[3],l[2],l[1],l[0]]:x.points=[l[2],l[1],l[0]],x}).reverse();const _=u[0].points[0],m=u[s-1].points[u[s-1].points.length-1],y=f[s-1].points[f[s-1].points.length-1],g=f[0].points[0],w=R.makeline(y,_),b=R.makeline(m,g),v=[w].concat(u).concat([b]).concat(f);return new _e(v)}outlineshapes(e,r,i){r=r||e;const o=this.outline(e,r).curves,a=[];for(let s=1,u=o.length;s<u/2;s++){const f=R.makeshape(o[s],o[u-s],i);f.startcap.virtual=s>1,f.endcap.virtual=s<u/2-1,a.push(f)}return a}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof Y&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=oi(e.p1.x,e.p2.x),i=oi(e.p1.y,e.p2.y),o=ai(e.p1.x,e.p2.x),a=ai(e.p1.y,e.p2.y);return R.roots(this.points,e).filter(s=>{var u=this.get(s);return R.between(u.x,r,o)&&R.between(u.y,i,a)})}selfintersects(e){const r=this.reduce(),i=r.length-2,o=[];for(let a=0,s,u,f;a<i;a++)u=r.slice(a,a+1),f=r.slice(a+2),s=this.curveintersects(u,f,e),o.push(...s);return o}curveintersects(e,r,i){const o=[];e.forEach(function(s){r.forEach(function(u){s.overlaps(u)&&o.push({left:s,right:u})})});let a=[];return o.forEach(function(s){const u=R.pairiteration(s.left,s.right,i);u.length>0&&(a=a.concat(u))}),a}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,i,o){const a=(o-i)/4,s=this.get(i+a),u=this.get(o-a),f=R.dist(e,r),l=R.dist(e,s),h=R.dist(e,u);return fe(l-f)+fe(h-f)}_iterate(e,r){let i=0,o=1,a;do{a=0,o=1;let s=this.get(i),u,f,l,h,c=!1,d=!1,p,_=o,m=1;do if(d=c,h=l,_=(i+o)/2,u=this.get(_),f=this.get(o),l=R.getccenter(s,u,f),l.interval={start:i,end:o},c=this._error(l,s,i,o)<=e,p=d&&!c,p||(m=o),c){if(o>=1){if(l.interval.end=m=1,h=l,o>1){let g={x:l.x+l.r*kh(l.e),y:l.y+l.r*Ch(l.e)};l.e+=R.angle({x:l.x,y:l.y},g,this.get(1))}break}o=o+(o-i)/2}else o=_;while(!p&&a++<100);if(a>=100)break;h=h||l,r.push(h),i=m}while(o<1);return r}}function Ln(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Oh(n){if(Array.isArray(n))return n}function Th(n){if(Array.isArray(n))return Ln(n)}function Rh(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Nh(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,s,u=[],f=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(f=(i=a.call(r)).done)&&(u.push(i.value),u.length!==e);f=!0);}catch(h){l=!0,o=h}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return u}}function Ph(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zh(n,e){if(n==null)return{};var r,i,o=Fh(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function Fh(n,e){if(n==null)return{};var r={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;r[i]=n[i]}return r}function $h(n,e){return Oh(n)||Nh(n,e)||bo(n,e)||Ph()}function Uh(n){return Th(n)||Rh(n)||bo(n)||Dh()}function Lh(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function jh(n){var e=Lh(n,"string");return typeof e=="symbol"?e:e+""}function bo(n,e){if(n){if(typeof n=="string")return Ln(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ln(n,e):void 0}}var Bh=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),a=n.reduce(function(u,f){var l=u,h=f;return o.forEach(function(c,d){var p=c.keyAccessor,_=c.isProp,m;if(_){var y=h,g=y[p],w=zh(y,[p].map(jh));m=g,h=w}else m=p(h,d);d+1<o.length?(l.hasOwnProperty(m)||(l[m]={}),l=l[m]):r?(l.hasOwnProperty(m)||(l[m]=[]),l[m].push(h)):l[m]=h}),u},{});r instanceof Function&&function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l===o.length?Object.keys(f).forEach(function(h){return f[h]=r(f[h])}):Object.values(f).forEach(function(h){return u(h,l+1)})}(a);var s=a;return i&&(s=[],function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===o.length?s.push({keys:l,vals:f}):Object.entries(f).forEach(function(h){var c=$h(h,2),d=c[0],p=c[1];return u(p,[].concat(Uh(l),[d]))})}(a),e instanceof Array&&e.length===0&&s.length===1&&(s[0].keys=[])),s};function qh(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const si=Symbol("implicit");function Ao(){var n=new Ir,e=[],r=[],i=si;function o(a){let s=n.get(a);if(s===void 0){if(i!==si)return i;n.set(a,s=e.push(a)-1)}return r[s%r.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new Ir;for(const s of a)n.has(s)||n.set(s,e.push(s)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return Ao(e,r).unknown(i)},qh.apply(o,arguments),o}function Hh(n){for(var e=n.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+n.slice(i*6,++i*6);return r}const Vh=Hh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Yh(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var Gh=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Yh(Gh);function jn(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=Array(e);r<e;r++)i[r]=n[r];return i}function Wh(n){if(Array.isArray(n))return n}function Xh(n){if(Array.isArray(n))return jn(n)}function ui(n,e,r){if(So())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var o=new(n.bind.apply(n,i));return o}function Ee(n,e,r){return(e=ed(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function So(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(So=function(){return!!n})()}function Jh(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Qh(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,a,s,u=[],f=!0,l=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(f=(i=a.call(r)).done)&&(u.push(i.value),u.length!==e);f=!0);}catch(h){l=!0,o=h}finally{try{if(!f&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw o}}return u}}function Zh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Jt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fi(Object(r),!0).forEach(function(i){Ee(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function ye(n,e){return Wh(n)||Qh(n,e)||Eo(n,e)||Zh()}function ht(n){return Xh(n)||Jh(n)||Eo(n)||Kh()}function td(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ed(n){var e=td(n,"string");return typeof e=="symbol"?e:e+""}function Bn(n){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(n)}function Eo(n,e){if(n){if(typeof n=="string")return jn(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jn(n,e):void 0}}var nd=Ao(Vh);function li(n,e,r){!e||typeof r!="string"||n.filter(function(i){return!i[r]}).forEach(function(i){i[r]=nd(e(i))})}function rd(n,e){var r=n.nodes,i=n.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,s=a===void 0?function(){return!0}:a,u=o.onLoopError,f=u===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:u,l={};r.forEach(function(p){return l[e(p)]={data:p,out:[],depth:-1,skip:!s(p)}}),i.forEach(function(p){var _=p.source,m=p.target,y=v(_),g=v(m);if(!l.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!l.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var w=l[y],b=l[g];w.out.push(b);function v(x){return Bn(x)==="object"?e(x):x}});var h=[];d(Object.values(l));var c=Object.assign.apply(Object,[{}].concat(ht(Object.entries(l).filter(function(p){var _=ye(p,2),m=_[1];return!m.skip}).map(function(p){var _=ye(p,2),m=_[0],y=_[1];return Ee({},m,y.depth)}))));return c;function d(p){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var v=p[g];if(_.indexOf(v)!==-1){var x=[].concat(ht(_.slice(_.indexOf(v))),[v]).map(function(S){return e(S.data)});return h.some(function(S){return S.length===x.length&&S.every(function(E,k){return E===x[k]})})||(h.push(x),f(x)),1}m>v.depth&&(v.depth=m,d(v.out,[].concat(ht(_),[v]),m+(v.skip?0:1)))},g=0,w=p.length;g<w;g++)y()}}var id=2,K=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},ci=function(e,r){if(!r.isShadow){var i=H(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=ht(Array(a)).map(function(){return{}}):delete o.__photons})}},Ke=Zn({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,ci(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:K},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:K},nodeColor:{default:"color",triggerUpdate:!1,onChange:K},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:K},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:K},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:K},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:K},linkColor:{default:"color",triggerUpdate:!1,onChange:K},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:K},linkWidth:{default:1,triggerUpdate:!1,onChange:K},linkCurvature:{default:0,triggerUpdate:!1,onChange:K},linkCanvasObject:{triggerUpdate:!1,onChange:K},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:K},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:K},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:K},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:K},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:ci},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,i){return i===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,i),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),o(),!e.isShadow&&a(),!e.isShadow&&s(),i(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function i(){var u=H(e.nodeVisibility),f=H(e.nodeVal),l=H(e.nodeColor),h=H(e.nodeCanvasObjectMode),c=e.ctx,d=e.isShadow/e.globalScale,p=e.graphData.nodes.filter(u);c.save(),p.forEach(function(_){var m=h(_);if(e.nodeCanvasObject&&(m==="before"||m==="replace")&&(e.nodeCanvasObject(_,c,e.globalScale),m==="replace")){c.restore();return}var y=Math.sqrt(Math.max(0,f(_)||1))*e.nodeRelSize+d;c.beginPath(),c.arc(_.x,_.y,y,0,2*Math.PI,!1),c.fillStyle=l(_)||"rgba(31, 120, 180, 0.92)",c.fill(),e.nodeCanvasObject&&m==="after"&&e.nodeCanvasObject(_,e.ctx,e.globalScale)}),c.restore()}function o(){var u=H(e.linkVisibility),f=H(e.linkColor),l=H(e.linkWidth),h=H(e.linkLineDash),c=H(e.linkCurvature),d=H(e.linkCanvasObjectMode),p=e.ctx,_=e.isShadow*2,m=e.graphData.links.filter(u);m.forEach(S);var y=[],g=[],w=m;if(e.linkCanvasObject){var b=[],v=[];m.forEach(function(E){return({before:y,after:g,replace:b}[d(E)]||v).push(E)}),w=[].concat(ht(y),g,v),y=y.concat(b)}p.save(),y.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();var x=Bh(w,[f,l,h]);p.save(),Object.entries(x).forEach(function(E){var k=ye(E,2),N=k[0],M=k[1],I=!N||N==="undefined"?"rgba(0,0,0,0.15)":N;Object.entries(M).forEach(function(D){var T=ye(D,2),A=T[0],P=T[1],O=(A||1)/e.globalScale+_;Object.entries(P).forEach(function(z){var $=ye(z,2);$[0];var U=$[1],L=h(U[0]);p.beginPath(),U.forEach(function(j){var B=j.source,J=j.target;if(!(!B||!J||!B.hasOwnProperty("x")||!J.hasOwnProperty("x"))){p.moveTo(B.x,B.y);var X=j.__controlPoints;X?p[X.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,ht(X).concat([J.x,J.y])):p.lineTo(J.x,J.y)}}),p.strokeStyle=I,p.lineWidth=O,p.setLineDash(L||[]),p.stroke()})})}),p.restore(),p.save(),g.forEach(function(E){return e.linkCanvasObject(E,p,e.globalScale)}),p.restore();function S(E){var k=c(E);if(!k){E.__controlPoints=null;return}var N=E.source,M=E.target;if(!(!N||!M||!N.hasOwnProperty("x")||!M.hasOwnProperty("x"))){var I=Math.sqrt(Math.pow(M.x-N.x,2)+Math.pow(M.y-N.y,2));if(I>0){var D=Math.atan2(M.y-N.y,M.x-N.x),T=I*k,A={x:(N.x+M.x)/2+T*Math.cos(D-Math.PI/2),y:(N.y+M.y)/2+T*Math.sin(D-Math.PI/2)};E.__controlPoints=[A.x,A.y]}else{var P=k*70;E.__controlPoints=[M.x,M.y-P,M.x+P,M.y]}}}}function a(){var u=1.6,f=.2,l=H(e.linkDirectionalArrowLength),h=H(e.linkDirectionalArrowRelPos),c=H(e.linkVisibility),d=H(e.linkDirectionalArrowColor||e.linkColor),p=H(e.nodeVal),_=e.ctx;_.save(),e.graphData.links.filter(c).forEach(function(m){var y=l(m);if(!(!y||y<0)){var g=m.source,w=m.target;if(!(!g||!w||!g.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var b=Math.sqrt(Math.max(0,p(g)||1))*e.nodeRelSize,v=Math.sqrt(Math.max(0,p(w)||1))*e.nodeRelSize,x=Math.min(1,Math.max(0,h(m))),S=d(m)||"rgba(0,0,0,0.28)",E=y/u/2,k=m.__controlPoints&&ui(Y,[g.x,g.y].concat(ht(m.__controlPoints),[w.x,w.y])),N=k?function(O){return k.get(O)}:function(O){return{x:g.x+(w.x-g.x)*O||0,y:g.y+(w.y-g.y)*O||0}},M=k?k.length():Math.sqrt(Math.pow(w.x-g.x,2)+Math.pow(w.y-g.y,2)),I=b+y+(M-b-v-y)*x,D=N(I/M),T=N((I-y)/M),A=N((I-y*(1-f))/M),P=Math.atan2(D.y-T.y,D.x-T.x)-Math.PI/2;_.beginPath(),_.moveTo(D.x,D.y),_.lineTo(T.x+E*Math.cos(P),T.y+E*Math.sin(P)),_.lineTo(A.x,A.y),_.lineTo(T.x-E*Math.cos(P),T.y-E*Math.sin(P)),_.fillStyle=S,_.fill()}}}),_.restore()}function s(){var u=H(e.linkDirectionalParticles),f=H(e.linkDirectionalParticleSpeed),l=H(e.linkDirectionalParticleOffset),h=H(e.linkDirectionalParticleWidth),c=H(e.linkVisibility),d=H(e.linkDirectionalParticleColor||e.linkColor),p=e.ctx;p.save(),e.graphData.links.filter(c).forEach(function(_){var m=u(_);if(!(!_.hasOwnProperty("__photons")||!_.__photons.length)){var y=_.source,g=_.target;if(!(!y||!g||!y.hasOwnProperty("x")||!g.hasOwnProperty("x"))){var w=f(_),b=Math.abs(l(_)),v=_.__photons||[],x=Math.max(0,h(_)/2)/Math.sqrt(e.globalScale),S=d(_)||"rgba(0,0,0,0.28)";p.fillStyle=S;var E=_.__controlPoints?ui(Y,[y.x,y.y].concat(ht(_.__controlPoints),[g.x,g.y])):null,k=0,N=!1;v.forEach(function(M){var I=!!M.__singleHop;if(M.hasOwnProperty("__progressRatio")||(M.__progressRatio=I?0:(k+b)/m),!I&&k++,M.__progressRatio+=w,M.__progressRatio>=1)if(!I)M.__progressRatio=M.__progressRatio%1;else{N=!0;return}var D=M.__progressRatio,T=E?E.get(D):{x:y.x+(g.x-y.x)*D||0,y:y.y+(g.y-y.y)*D||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject(T.x,T.y,_,p,e.globalScale):(p.beginPath(),p.arc(T.x,T.y,x,0,2*Math.PI,!1),p.fill())}),N&&(_.__photons=_.__photons.filter(function(M){return!M.__singleHop||M.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:xh().force("link",hh()).force("charge",wh()).force("center",pc()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&li(e.graphData.nodes,H(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&li(e.graphData.links,H(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(d){d.source=d[e.linkSource],d.target=d[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var i=e.forceLayout.force("link");i&&i.id(function(d){return d[e.nodeId]}).links(e.graphData.links);var o=e.dagMode&&rd(e.graphData,function(d){return d[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),a=Math.max.apply(Math,ht(Object.values(o||[]))),s=e.dagLevelDistance||e.graphData.nodes.length/(a||1)*id*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var u=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(d){return delete d[u]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var f=["rl","bu"].includes(e.dagMode),l=function(p){return(o[p[e.nodeId]]-a/2)*s*(f?-1:1)},h=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(d){return d[h]=l(d)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?bh(function(d){var p=o[d[e.nodeId]]||-1;return(e.dagMode==="radialin"?a-p:p)*s}).strength(function(d){return e.dagNodeFilter(d)?1:0}):null);for(var c=0;c<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);c++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function ko(n,e){var r=n instanceof Array?n:[n],i=new e;return i._destructor&&i._destructor(),{linkProp:function(a){return{default:i[a](),onChange:function(u,f){r.forEach(function(l){return f[l][a](u)})},triggerUpdate:!1}},linkMethod:function(a){return function(s){for(var u=arguments.length,f=new Array(u>1?u-1:0),l=1;l<u;l++)f[l-1]=arguments[l];var h=[];return r.forEach(function(c){var d=s[c],p=d[a].apply(d,f);p!==d&&h.push(p)}),h.length?h[0]:this}}}}var od=800,ad=4,sd=5,Co=ko("forceGraph",Ke),ud=ko(["forceGraph","shadowGraph"],Ke),fd=Object.assign.apply(Object,ht(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return Ee({},n,Co.linkProp(n))})).concat(ht(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return Ee({},n,ud.linkProp(n))})))),ld=Object.assign.apply(Object,ht(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return Ee({},n,Co.linkMethod(n))})));function An(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var i=window.devicePixelRatio;e/=i,r/=i,[n.canvas,n.shadowCanvas].forEach(function(a){a.style.width="".concat(n.width,"px"),a.style.height="".concat(n.height,"px"),a.width=n.width*i,a.height=n.height*i,!e&&!r&&a.getContext("2d").scale(i,i)});var o=vt(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/o,(n.height-r)/2/o),n.needsRedraw=!0}}function Io(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function hi(n,e,r){n.save(),Io(n),n.clearRect(0,0,e,r),n.restore()}var cd=Zn({props:Jt({width:{default:window.innerWidth,onChange:function(e,r){return An(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return An(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(o){return(o||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(i),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function i(o){var a=o.type,s=o.objs;s.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var f=r.colorTracker.lookup(u.__indexColor);return!f||!f.hasOwnProperty("d")||f.d!==u}).forEach(function(u){u.__indexColor=r.colorTracker.register({type:a,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(i,o,a){return e(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(i,o,a){return e(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},fd),aliases:{stopAnimation:"pauseAnimation"},methods:Jt({graph2ScreenCoords:function(e,r,i){var o=vt(e.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(e,r,i){var o=vt(e.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(e,r,i,o){if(!e.canvas)return null;if(r!==void 0||i!==void 0){var a=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?e.tweenGroup.add(new Dr(s()).to(a,o).easing(Gt.Quadratic.Out).onUpdate(u).start()):u(a),this}return s();function s(){var f=vt(e.canvas);return{x:(e.width/2-f.x)/f.k,y:(e.height/2-f.y)/f.k}}function u(f){var l=f.x,h=f.y;e.zoom.translateTo(e.zoom.__baseElem,l===void 0?s().x:l,h===void 0?s().y:h),e.needsRedraw=!0}},zoom:function(e,r,i){if(!e.canvas)return null;if(r!==void 0)return i?e.tweenGroup.add(new Dr({k:o()}).to({k:r},i).easing(Gt.Quadratic.Out).onUpdate(function(s){var u=s.k;return a(u)}).start()):a(r),this;return o();function o(){return vt(e.canvas).k}function a(s){e.zoom.scaleTo(e.zoom.__baseElem,s),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var u=this.getGraphBbox.apply(this,a);if(u){var f={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},l=Math.max(1e-12,Math.min(1e12,(e.width-i*2)/(u.x[1]-u.x[0]),(e.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(f.x,f.y,r),this.zoom(l,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=H(e.nodeVal),o=function(u){return Math.sqrt(Math.max(0,i(u)||1))*e.nodeRelSize},a=e.graphData.nodes.filter(r).map(function(s){return{x:s.x,y:s.y,r:o(s)}});return a.length?{x:[Tr(a,function(s){return s.x-s.r}),Or(a,function(s){return s.x+s.r})],y:[Tr(a,function(s){return s.y-s.r}),Or(a,function(s){return s.y+s.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},ld),stateInit:function(){return{lastSetZoom:1,zoom:bf(),forceGraph:new Ke,shadowGraph:new Ke().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Yl,tweenGroup:new Ji}},init:function(e,r){var i=this;e.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",e.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),s=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),u={x:-1e12,y:-1e12},f=function(){var c=null,d=window.devicePixelRatio,p=u.x>0&&u.y>0?s.getImageData(u.x*d,u.y*d,1,1):null;return p&&(c=r.colorTracker.lookup(p.data)),c};ct(r.canvas).call(Ts().subject(function(){if(!r.enableNodeDrag)return null;var h=f();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var c=h.subject;c.__initialDragPos={x:c.x,y:c.y,fx:c.fx,fy:c.fy},h.active||(c.fx=c.x,c.fy=c.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var c=h.subject,d=c.__initialDragPos,p=h,_=vt(r.canvas).k,m={x:d.x+(p.x-d.x)/_-c.x,y:d.y+(p.y-d.y)/_-c.y};["x","y"].forEach(function(y){return c["f".concat(y)]=c[y]=d[y]+(p[y]-d[y])/_}),!(!c.__dragged&&sd>=Math.sqrt(kf(["x","y"].map(function(y){return Math.pow(h[y]-d[y],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,c.__dragged=!0,r.onNodeDrag(c,m))}).on("end",function(h){var c=h.subject,d=c.__initialDragPos,p={x:c.x-d.x,y:c.y-d.y};d.fx===void 0&&(c.fx=void 0),d.fy===void 0&&(c.fy=void 0),delete c.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,c.__dragged&&(delete c.__dragged,r.onNodeDragEnd(c,p))})),r.zoom(r.zoom.__baseElem=ct(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(h.type!=="wheel"||H(r.enableZoomInteraction)(h))&&(h.type==="wheel"||H(r.enablePanInteraction)(h))}).on("zoom",function(h){var c=h.transform;[a,s].forEach(function(d){Io(d),d.translate(c.x,c.y),d.scale(c.k,c.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Jt(Jt({},c),i.centerAt())),r.needsRedraw=!0}).on("end",function(h){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Jt(Jt({},h.transform),i.centerAt()))}),An(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){vt(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=ad/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new dc(o),["pointermove","pointerdown"].forEach(function(h){return o.addEventListener(h,function(c){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=c),!r.isPointerDragging&&c.type==="pointermove"&&r.onBackgroundClick&&(c.pressure>0||r.isPointerPressed)&&(c.pointerType==="mouse"||c.movementX===void 0||[c.movementX,c.movementY].some(function(_){return Math.abs(_)>1}))&&(r.isPointerDragging=!0);var d=p(o);u.x=c.pageX-d.left,u.y=c.pageY-d.top;function p(_){var m=_.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop;return{top:m.top+g,left:m.left+y}}},{passive:!0})}),o.addEventListener("pointerup",function(h){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var c=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var d=r["on".concat(r.hoverObj.type,"Click")];d&&d.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,c);if(h.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(c))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,c)})}},{passive:!0}),o.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(s);var l=Kf(function(){hi(s,r.width,r.height),r.shadowGraph.linkWidth(function(c){return H(r.linkWidth)(c)+r.linkHoverPrecision});var h=vt(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},od);r.flushShadowCanvas=l.flush,(this._animationCycle=function h(){var c=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(b){return b.__photons&&b.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var d=r.isPointerDragging?null:f();if(d!==r.hoverObj){var p=r.hoverObj,_=p?p.type:null,m=d?d.type:null;if(_&&_!==m){var y=r["on".concat(_,"Hover")];y&&y(null,p.d)}if(m){var g=r["on".concat(m,"Hover")];g&&g(d.d,_===m?p.d:null)}r.tooltip.content(d&&H(r["".concat(d.type.toLowerCase(),"Label")])(d.d)||null),r.canvas.classList[d&&r["on".concat(m,"Click")]||!d&&r.onBackgroundClick?"add":"remove"]("clickable"),r.hoverObj=d}c&&l()}if(c){hi(a,r.width,r.height);var w=vt(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(e){}});function me(n){return function(){return n}}function tn(n){return(n()-.5)*1e-6}function hd(n){return n.x+n.vx}function dd(n){return n.y+n.vy}function pd(n){var e,r,i,o=1,a=1;typeof n!="function"&&(n=me(n==null?1:+n));function s(){for(var l,h=e.length,c,d,p,_,m,y,g=0;g<a;++g)for(c=ir(e,hd,dd).visitAfter(u),l=0;l<h;++l)d=e[l],m=r[d.index],y=m*m,p=d.x+d.vx,_=d.y+d.vy,c.visit(w);function w(b,v,x,S,E){var k=b.data,N=b.r,M=m+N;if(k){if(k.index>d.index){var I=p-k.x-k.vx,D=_-k.y-k.vy,T=I*I+D*D;T<M*M&&(I===0&&(I=tn(i),T+=I*I),D===0&&(D=tn(i),T+=D*D),T=(M-(T=Math.sqrt(T)))/T*o,d.vx+=(I*=T)*(M=(N*=N)/(y+N)),d.vy+=(D*=T)*M,k.vx-=I*(M=1-M),k.vy-=D*M)}return}return v>p+M||S<p-M||x>_+M||E<_-M}}function u(l){if(l.data)return l.r=r[l.data.index];for(var h=l.r=0;h<4;++h)l[h]&&l[h].r>l.r&&(l.r=l[h].r)}function f(){if(e){var l,h=e.length,c;for(r=new Array(h),l=0;l<h;++l)c=e[l],r[c.index]=+n(c,l,e)}}return s.initialize=function(l,h){e=l,i=h,f()},s.iterations=function(l){return arguments.length?(a=+l,s):a},s.strength=function(l){return arguments.length?(o=+l,s):o},s.radius=function(l){return arguments.length?(n=typeof l=="function"?l:me(+l),f(),s):n},s}function gd(n){return n.index}function di(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function _d(n){var e=gd,r=c,i,o=me(30),a,s,u,f,l,h=1;n==null&&(n=[]);function c(y){return 1/Math.min(u[y.source.index],u[y.target.index])}function d(y){for(var g=0,w=n.length;g<h;++g)for(var b=0,v,x,S,E,k,N,M;b<w;++b)v=n[b],x=v.source,S=v.target,E=S.x+S.vx-x.x-x.vx||tn(l),k=S.y+S.vy-x.y-x.vy||tn(l),N=Math.sqrt(E*E+k*k),N=(N-a[b])/N*y*i[b],E*=N,k*=N,S.vx-=E*(M=f[b]),S.vy-=k*M,x.vx+=E*(M=1-M),x.vy+=k*M}function p(){if(s){var y,g=s.length,w=n.length,b=new Map(s.map((x,S)=>[e(x,S,s),x])),v;for(y=0,u=new Array(g);y<w;++y)v=n[y],v.index=y,typeof v.source!="object"&&(v.source=di(b,v.source)),typeof v.target!="object"&&(v.target=di(b,v.target)),u[v.source.index]=(u[v.source.index]||0)+1,u[v.target.index]=(u[v.target.index]||0)+1;for(y=0,f=new Array(w);y<w;++y)v=n[y],f[y]=u[v.source.index]/(u[v.source.index]+u[v.target.index]);i=new Array(w),_(),a=new Array(w),m()}}function _(){if(s)for(var y=0,g=n.length;y<g;++y)i[y]=+r(n[y],y,n)}function m(){if(s)for(var y=0,g=n.length;y<g;++y)a[y]=+o(n[y],y,n)}return d.initialize=function(y,g){s=y,l=g,p()},d.links=function(y){return arguments.length?(n=y,p(),d):n},d.id=function(y){return arguments.length?(e=y,d):e},d.iterations=function(y){return arguments.length?(h=+y,d):h},d.strength=function(y){return arguments.length?(r=typeof y=="function"?y:me(+y),_(),d):r},d.distance=function(y){return arguments.length?(o=typeof y=="function"?y:me(+y),m(),d):o},d}var pi=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},wt=[],ft=[],yd=typeof Uint8Array<"u"?Uint8Array:Array,sr=!1;function Mo(){sr=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=n.length;e<r;++e)wt[e]=n[e],ft[n.charCodeAt(e)]=e;ft[45]=62,ft[95]=63}function md(n){sr||Mo();var e,r,i,o,a,s,u=n.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=n[u-2]==="="?2:n[u-1]==="="?1:0,s=new yd(u*3/4-a),i=a>0?u-4:u;var f=0;for(e=0,r=0;e<i;e+=4,r+=3)o=ft[n.charCodeAt(e)]<<18|ft[n.charCodeAt(e+1)]<<12|ft[n.charCodeAt(e+2)]<<6|ft[n.charCodeAt(e+3)],s[f++]=o>>16&255,s[f++]=o>>8&255,s[f++]=o&255;return a===2?(o=ft[n.charCodeAt(e)]<<2|ft[n.charCodeAt(e+1)]>>4,s[f++]=o&255):a===1&&(o=ft[n.charCodeAt(e)]<<10|ft[n.charCodeAt(e+1)]<<4|ft[n.charCodeAt(e+2)]>>2,s[f++]=o>>8&255,s[f++]=o&255),s}function vd(n){return wt[n>>18&63]+wt[n>>12&63]+wt[n>>6&63]+wt[n&63]}function xd(n,e,r){for(var i,o=[],a=e;a<r;a+=3)i=(n[a]<<16)+(n[a+1]<<8)+n[a+2],o.push(vd(i));return o.join("")}function gi(n){sr||Mo();for(var e,r=n.length,i=r%3,o="",a=[],s=16383,u=0,f=r-i;u<f;u+=s)a.push(xd(n,u,u+s>f?f:u+s));return i===1?(e=n[r-1],o+=wt[e>>2],o+=wt[e<<4&63],o+="=="):i===2&&(e=(n[r-2]<<8)+n[r-1],o+=wt[e>>10],o+=wt[e>>4&63],o+=wt[e<<2&63],o+="="),a.push(o),a.join("")}function ln(n,e,r,i,o){var a,s,u=o*8-i-1,f=(1<<u)-1,l=f>>1,h=-7,c=r?o-1:0,d=r?-1:1,p=n[e+c];for(c+=d,a=p&(1<<-h)-1,p>>=-h,h+=u;h>0;a=a*256+n[e+c],c+=d,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=i;h>0;s=s*256+n[e+c],c+=d,h-=8);if(a===0)a=1-l;else{if(a===f)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-l}return(p?-1:1)*s*Math.pow(2,a-i)}function Oo(n,e,r,i,o,a){var s,u,f,l=a*8-o-1,h=(1<<l)-1,c=h>>1,d=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,_=i?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+c>=1?e+=d/f:e+=d*Math.pow(2,1-c),e*f>=2&&(s++,f/=2),s+c>=h?(u=0,s=h):s+c>=1?(u=(e*f-1)*Math.pow(2,o),s=s+c):(u=e*Math.pow(2,c-1)*Math.pow(2,o),s=0));o>=8;n[r+p]=u&255,p+=_,u/=256,o-=8);for(s=s<<o|u,l+=o;l>0;n[r+p]=s&255,p+=_,s/=256,l-=8);n[r+p-_]|=m*128}var wd={}.toString,To=Array.isArray||function(n){return wd.call(n)=="[object Array]"},bd=50;C.TYPED_ARRAY_SUPPORT=pi.TYPED_ARRAY_SUPPORT!==void 0?pi.TYPED_ARRAY_SUPPORT:!0;en();function en(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function zt(n,e){if(en()<e)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=C.prototype):(n===null&&(n=new C(e)),n.length=e),n}function C(n,e,r){if(!C.TYPED_ARRAY_SUPPORT&&!(this instanceof C))return new C(n,e,r);if(typeof n=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return ur(this,n)}return Ro(this,n,e,r)}C.poolSize=8192;C._augment=function(n){return n.__proto__=C.prototype,n};function Ro(n,e,r,i){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Ed(n,e,r,i):typeof e=="string"?Sd(n,e,r):kd(n,e)}C.from=function(n,e,r){return Ro(null,n,e,r)};C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&C[Symbol.species]);function No(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function Ad(n,e,r,i){return No(e),e<=0?zt(n,e):r!==void 0?typeof i=="string"?zt(n,e).fill(r,i):zt(n,e).fill(r):zt(n,e)}C.alloc=function(n,e,r){return Ad(null,n,e,r)};function ur(n,e){if(No(e),n=zt(n,e<0?0:fr(e)|0),!C.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}C.allocUnsafe=function(n){return ur(null,n)};C.allocUnsafeSlow=function(n){return ur(null,n)};function Sd(n,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!C.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=Po(e,r)|0;n=zt(n,i);var o=n.write(e,r);return o!==i&&(n=n.slice(0,o)),n}function qn(n,e){var r=e.length<0?0:fr(e.length)|0;n=zt(n,r);for(var i=0;i<r;i+=1)n[i]=e[i]&255;return n}function Ed(n,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return r===void 0&&i===void 0?e=new Uint8Array(e):i===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,i),C.TYPED_ARRAY_SUPPORT?(n=e,n.__proto__=C.prototype):n=qn(n,e),n}function kd(n,e){if(Et(e)){var r=fr(e.length)|0;return n=zt(n,r),n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Vd(e.length)?zt(n,0):qn(n,e);if(e.type==="Buffer"&&To(e.data))return qn(n,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function fr(n){if(n>=en())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+en().toString(16)+" bytes");return n|0}C.isBuffer=lt;function Et(n){return!!(n!=null&&n._isBuffer)}C.compare=function(e,r){if(!Et(e)||!Et(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var i=e.length,o=r.length,a=0,s=Math.min(i,o);a<s;++a)if(e[a]!==r[a]){i=e[a],o=r[a];break}return i<o?-1:o<i?1:0};C.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};C.concat=function(e,r){if(!To(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return C.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var o=C.allocUnsafe(r),a=0;for(i=0;i<e.length;++i){var s=e[i];if(!Et(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,a),a+=s.length}return o};function Po(n,e){if(Et(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var r=n.length;if(r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return nn(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return jo(n).length;default:if(i)return nn(n).length;e=(""+e).toLowerCase(),i=!0}}C.byteLength=Po;function Cd(n,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return Fd(this,e,r);case"utf8":case"utf-8":return Fo(this,e,r);case"ascii":return Dd(this,e,r);case"latin1":case"binary":return zd(this,e,r);case"base64":return Nd(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $d(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}C.prototype._isBuffer=!0;function Vt(n,e,r){var i=n[e];n[e]=n[r],n[r]=i}C.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Vt(this,r,r+1);return this};C.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Vt(this,r,r+3),Vt(this,r+1,r+2);return this};C.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Vt(this,r,r+7),Vt(this,r+1,r+6),Vt(this,r+2,r+5),Vt(this,r+3,r+4);return this};C.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Fo(this,0,e):Cd.apply(this,arguments)};C.prototype.equals=function(e){if(!Et(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:C.compare(this,e)===0};C.prototype.inspect=function(){var e="",r=bd;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};C.prototype.compare=function(e,r,i,o,a){if(!Et(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),o===void 0&&(o=0),a===void 0&&(a=this.length),r<0||i>e.length||o<0||a>this.length)throw new RangeError("out of range index");if(o>=a&&r>=i)return 0;if(o>=a)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,o>>>=0,a>>>=0,this===e)return 0;for(var s=a-o,u=i-r,f=Math.min(s,u),l=this.slice(o,a),h=e.slice(r,i),c=0;c<f;++c)if(l[c]!==h[c]){s=l[c],u=h[c];break}return s<u?-1:u<s?1:0};function Do(n,e,r,i,o){if(n.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:n.length-1),r<0&&(r=n.length+r),r>=n.length){if(o)return-1;r=n.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof e=="string"&&(e=C.from(e,i)),Et(e))return e.length===0?-1:_i(n,e,r,i,o);if(typeof e=="number")return e=e&255,C.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(n,e,r):Uint8Array.prototype.lastIndexOf.call(n,e,r):_i(n,[e],r,i,o);throw new TypeError("val must be string, number or Buffer")}function _i(n,e,r,i,o){var a=1,s=n.length,u=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function f(p,_){return a===1?p[_]:p.readUInt16BE(_*a)}var l;if(o){var h=-1;for(l=r;l<s;l++)if(f(n,l)===f(e,h===-1?0:l-h)){if(h===-1&&(h=l),l-h+1===u)return h*a}else h!==-1&&(l-=l-h),h=-1}else for(r+u>s&&(r=s-u),l=r;l>=0;l--){for(var c=!0,d=0;d<u;d++)if(f(n,l+d)!==f(e,d)){c=!1;break}if(c)return l}return-1}C.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};C.prototype.indexOf=function(e,r,i){return Do(this,e,r,i,!0)};C.prototype.lastIndexOf=function(e,r,i){return Do(this,e,r,i,!1)};function Id(n,e,r,i){r=Number(r)||0;var o=n.length-r;i?(i=Number(i),i>o&&(i=o)):i=o;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var s=0;s<i;++s){var u=parseInt(e.substr(s*2,2),16);if(isNaN(u))return s;n[r+s]=u}return s}function Md(n,e,r,i){return dn(nn(e,n.length-r),n,r,i)}function zo(n,e,r,i){return dn(qd(e),n,r,i)}function Od(n,e,r,i){return zo(n,e,r,i)}function Td(n,e,r,i){return dn(jo(e),n,r,i)}function Rd(n,e,r,i){return dn(Hd(e,n.length-r),n,r,i)}C.prototype.write=function(e,r,i,o){if(r===void 0)o="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")o=r,i=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(i)?(i=i|0,o===void 0&&(o="utf8")):(o=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((i===void 0||i>a)&&(i=a),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var s=!1;;)switch(o){case"hex":return Id(this,e,r,i);case"utf8":case"utf-8":return Md(this,e,r,i);case"ascii":return zo(this,e,r,i);case"latin1":case"binary":return Od(this,e,r,i);case"base64":return Td(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rd(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Nd(n,e,r){return e===0&&r===n.length?gi(n):gi(n.slice(e,r))}function Fo(n,e,r){r=Math.min(n.length,r);for(var i=[],o=e;o<r;){var a=n[o],s=null,u=a>239?4:a>223?3:a>191?2:1;if(o+u<=r){var f,l,h,c;switch(u){case 1:a<128&&(s=a);break;case 2:f=n[o+1],(f&192)===128&&(c=(a&31)<<6|f&63,c>127&&(s=c));break;case 3:f=n[o+1],l=n[o+2],(f&192)===128&&(l&192)===128&&(c=(a&15)<<12|(f&63)<<6|l&63,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:f=n[o+1],l=n[o+2],h=n[o+3],(f&192)===128&&(l&192)===128&&(h&192)===128&&(c=(a&15)<<18|(f&63)<<12|(l&63)<<6|h&63,c>65535&&c<1114112&&(s=c))}}s===null?(s=65533,u=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),o+=u}return Pd(i)}var yi=4096;function Pd(n){var e=n.length;if(e<=yi)return String.fromCharCode.apply(String,n);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,n.slice(i,i+=yi));return r}function Dd(n,e,r){var i="";r=Math.min(n.length,r);for(var o=e;o<r;++o)i+=String.fromCharCode(n[o]&127);return i}function zd(n,e,r){var i="";r=Math.min(n.length,r);for(var o=e;o<r;++o)i+=String.fromCharCode(n[o]);return i}function Fd(n,e,r){var i=n.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var o="",a=e;a<r;++a)o+=Bd(n[a]);return o}function $d(n,e,r){for(var i=n.slice(e,r),o="",a=0;a<i.length;a+=2)o+=String.fromCharCode(i[a]+i[a+1]*256);return o}C.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var o;if(C.TYPED_ARRAY_SUPPORT)o=this.subarray(e,r),o.__proto__=C.prototype;else{var a=r-e;o=new C(a,void 0);for(var s=0;s<a;++s)o[s]=this[s+e]}return o};function Q(n,e,r){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>r)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function(e,r,i){e=e|0,r=r|0,i||Q(e,r,this.length);for(var o=this[e],a=1,s=0;++s<r&&(a*=256);)o+=this[e+s]*a;return o};C.prototype.readUIntBE=function(e,r,i){e=e|0,r=r|0,i||Q(e,r,this.length);for(var o=this[e+--r],a=1;r>0&&(a*=256);)o+=this[e+--r]*a;return o};C.prototype.readUInt8=function(e,r){return r||Q(e,1,this.length),this[e]};C.prototype.readUInt16LE=function(e,r){return r||Q(e,2,this.length),this[e]|this[e+1]<<8};C.prototype.readUInt16BE=function(e,r){return r||Q(e,2,this.length),this[e]<<8|this[e+1]};C.prototype.readUInt32LE=function(e,r){return r||Q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};C.prototype.readUInt32BE=function(e,r){return r||Q(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};C.prototype.readIntLE=function(e,r,i){e=e|0,r=r|0,i||Q(e,r,this.length);for(var o=this[e],a=1,s=0;++s<r&&(a*=256);)o+=this[e+s]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*r)),o};C.prototype.readIntBE=function(e,r,i){e=e|0,r=r|0,i||Q(e,r,this.length);for(var o=r,a=1,s=this[e+--o];o>0&&(a*=256);)s+=this[e+--o]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};C.prototype.readInt8=function(e,r){return r||Q(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};C.prototype.readInt16LE=function(e,r){r||Q(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};C.prototype.readInt16BE=function(e,r){r||Q(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};C.prototype.readInt32LE=function(e,r){return r||Q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};C.prototype.readInt32BE=function(e,r){return r||Q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};C.prototype.readFloatLE=function(e,r){return r||Q(e,4,this.length),ln(this,e,!0,23,4)};C.prototype.readFloatBE=function(e,r){return r||Q(e,4,this.length),ln(this,e,!1,23,4)};C.prototype.readDoubleLE=function(e,r){return r||Q(e,8,this.length),ln(this,e,!0,52,8)};C.prototype.readDoubleBE=function(e,r){return r||Q(e,8,this.length),ln(this,e,!1,52,8)};function it(n,e,r,i,o,a){if(!Et(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(r+i>n.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function(e,r,i,o){if(e=+e,r=r|0,i=i|0,!o){var a=Math.pow(2,8*i)-1;it(this,e,r,i,a,0)}var s=1,u=0;for(this[r]=e&255;++u<i&&(s*=256);)this[r+u]=e/s&255;return r+i};C.prototype.writeUIntBE=function(e,r,i,o){if(e=+e,r=r|0,i=i|0,!o){var a=Math.pow(2,8*i)-1;it(this,e,r,i,a,0)}var s=i-1,u=1;for(this[r+s]=e&255;--s>=0&&(u*=256);)this[r+s]=e/u&255;return r+i};C.prototype.writeUInt8=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,1,255,0),C.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};function cn(n,e,r,i){e<0&&(e=65535+e+1);for(var o=0,a=Math.min(n.length-r,2);o<a;++o)n[r+o]=(e&255<<8*(i?o:1-o))>>>(i?o:1-o)*8}C.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):cn(this,e,r,!0),r+2};C.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):cn(this,e,r,!1),r+2};function hn(n,e,r,i){e<0&&(e=4294967295+e+1);for(var o=0,a=Math.min(n.length-r,4);o<a;++o)n[r+o]=e>>>(i?o:3-o)*8&255}C.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):hn(this,e,r,!0),r+4};C.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):hn(this,e,r,!1),r+4};C.prototype.writeIntLE=function(e,r,i,o){if(e=+e,r=r|0,!o){var a=Math.pow(2,8*i-1);it(this,e,r,i,a-1,-a)}var s=0,u=1,f=0;for(this[r]=e&255;++s<i&&(u*=256);)e<0&&f===0&&this[r+s-1]!==0&&(f=1),this[r+s]=(e/u>>0)-f&255;return r+i};C.prototype.writeIntBE=function(e,r,i,o){if(e=+e,r=r|0,!o){var a=Math.pow(2,8*i-1);it(this,e,r,i,a-1,-a)}var s=i-1,u=1,f=0;for(this[r+s]=e&255;--s>=0&&(u*=256);)e<0&&f===0&&this[r+s+1]!==0&&(f=1),this[r+s]=(e/u>>0)-f&255;return r+i};C.prototype.writeInt8=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,1,127,-128),C.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};C.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):cn(this,e,r,!0),r+2};C.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):cn(this,e,r,!1),r+2};C.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):hn(this,e,r,!0),r+4};C.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r|0,i||it(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),C.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):hn(this,e,r,!1),r+4};function $o(n,e,r,i,o,a){if(r+i>n.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Uo(n,e,r,i,o){return o||$o(n,e,r,4),Oo(n,e,r,i,23,4),r+4}C.prototype.writeFloatLE=function(e,r,i){return Uo(this,e,r,!0,i)};C.prototype.writeFloatBE=function(e,r,i){return Uo(this,e,r,!1,i)};function Lo(n,e,r,i,o){return o||$o(n,e,r,8),Oo(n,e,r,i,52,8),r+8}C.prototype.writeDoubleLE=function(e,r,i){return Lo(this,e,r,!0,i)};C.prototype.writeDoubleBE=function(e,r,i){return Lo(this,e,r,!1,i)};C.prototype.copy=function(e,r,i,o){if(i||(i=0),!o&&o!==0&&(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<i&&(o=i),o===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-i&&(o=e.length-r+i);var a=o-i,s;if(this===e&&i<r&&r<o)for(s=a-1;s>=0;--s)e[s+r]=this[s+i];else if(a<1e3||!C.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+r]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),r);return a};C.prototype.fill=function(e,r,i,o){if(typeof e=="string"){if(typeof r=="string"?(o=r,r=0,i=this.length):typeof i=="string"&&(o=i,i=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}if(o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!C.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{var u=Et(e)?e:nn(new C(e,o).toString()),f=u.length;for(s=0;s<i-r;++s)this[s+r]=u[s%f]}return this};var Ud=/[^+\/0-9A-Za-z-_]/g;function Ld(n){if(n=jd(n).replace(Ud,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function jd(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Bd(n){return n<16?"0"+n.toString(16):n.toString(16)}function nn(n,e){e=e||1/0;for(var r,i=n.length,o=null,a=[],s=0;s<i;++s){if(r=n.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function qd(n){for(var e=[],r=0;r<n.length;++r)e.push(n.charCodeAt(r)&255);return e}function Hd(n,e){for(var r,i,o,a=[],s=0;s<n.length&&!((e-=2)<0);++s)r=n.charCodeAt(s),i=r>>8,o=r%256,a.push(o),a.push(i);return a}function jo(n){return md(Ld(n))}function dn(n,e,r,i){for(var o=0;o<i&&!(o+r>=e.length||o>=n.length);++o)e[o+r]=n[o];return o}function Vd(n){return n!==n}function lt(n){return n!=null&&(!!n._isBuffer||Bo(n)||Yd(n))}function Bo(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Yd(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&Bo(n.slice(0,0))}class q extends Error{constructor(e,r,i,...o){Array.isArray(r)&&(r=r.join(" ").trim()),super(r),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,q),this.code=e;for(const a of o)for(const s in a){const u=a[s];this[s]=lt(u)?u.toString(i.encoding):u==null?u:JSON.parse(JSON.stringify(u))}}}const Gd=function(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)},qo=function(n){const e=[];for(let r=0,i=n.length;r<i;r++){const o=n[r];if(o==null||o===!1)e[r]={disabled:!0};else if(typeof o=="string")e[r]={name:o};else if(Gd(o)){if(typeof o.name!="string")throw new q("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);e[r]=o}else throw new q("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(o)} at position ${r}`])}return e};class mi{constructor(e=100){this.size=e,this.length=0,this.buf=C.allocUnsafe(e)}prepend(e){if(lt(e)){const r=this.length+e.length;if(r>=this.size&&(this.resize(),r>=this.size))throw Error("INVALID_BUFFER_STATE");const i=this.buf;this.buf=C.allocUnsafe(this.size),e.copy(this.buf,0),i.copy(this.buf,e.length),this.length+=e.length}else{const r=this.length++;r===this.size&&this.resize();const i=this.clone();this.buf[0]=e,i.copy(this.buf,1,0,r)}}append(e){const r=this.length++;r===this.size&&this.resize(),this.buf[r]=e}clone(){return C.from(this.buf.slice(0,this.length))}resize(){const e=this.length;this.size=this.size*2;const r=C.allocUnsafe(this.size);this.buf.copy(r,0,0,e),this.buf=r}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const Wd=12,Xd=13,Jd=10,Qd=32,Zd=9,Kd=function(n){return{bomSkipped:!1,bufBytesStart:0,castField:n.cast_function,commenting:!1,error:void 0,enabled:n.from_line===1,escaping:!1,escapeIsQuote:lt(n.escape)&&lt(n.quote)&&C.compare(n.escape,n.quote)===0,expectedRecordLength:Array.isArray(n.columns)?n.columns.length:void 0,field:new mi(20),firstLineToHeaders:n.cast_first_line_to_header,needMoreDataSize:Math.max(n.comment!==null?n.comment.length:0,...n.delimiter.map(e=>e.length),n.quote!==null?n.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new mi(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:n.record_delimiter.length===0?0:Math.max(...n.record_delimiter.map(e=>e.length)),trimChars:[C.from(" ",n.encoding)[0],C.from("	",n.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[C.from(C.from([Xd],"utf8").toString(),n.encoding),C.from(C.from([Jd],"utf8").toString(),n.encoding),C.from(C.from([Wd],"utf8").toString(),n.encoding),C.from(C.from([Qd],"utf8").toString(),n.encoding),C.from(C.from([Zd],"utf8").toString(),n.encoding)]}},t0=function(n){return n.replace(/([A-Z])/g,function(e,r){return"_"+r.toLowerCase()})},vi=function(n){const e={};for(const i in n)e[t0(i)]=n[i];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new q("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new q("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new q("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(i){const o=Date.parse(i);return isNaN(o)?i:new Date(o)};else if(typeof e.cast_date!="function")throw new q("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=void 0,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=qo(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new q("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new q("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new q("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=C.from(e.comment,e.encoding)),!lt(e.comment))throw new q("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);if(e.comment_no_infix===void 0||e.comment_no_infix===null||e.comment_no_infix===!1)e.comment_no_infix=!1;else if(e.comment_no_infix!==!0)throw new q("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(e.comment_no_infix)}`],e);const r=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new q("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],e);if(e.delimiter=e.delimiter.map(function(i){if(i==null||i===!1)return C.from(",",e.encoding);if(typeof i=="string"&&(i=C.from(i,e.encoding)),!lt(i)||i.length===0)throw new q("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],e);return i}),e.escape===void 0||e.escape===!0?e.escape=C.from('"',e.encoding):typeof e.escape=="string"?e.escape=C.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!lt(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(n.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(n.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(n.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new q("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new q("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(lt(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new q("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.on_skip!==void 0&&e.on_skip!==null&&typeof e.on_skip!="function")throw new Error(`Invalid Option: on_skip must be a function, got ${JSON.stringify(e.on_skip)}`);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=C.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=C.from(e.quote,e.encoding)),!lt(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||lt(e.record_delimiter)){if(e.record_delimiter.length===0)throw new q("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new q("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(i,o){if(typeof i!="string"&&!lt(i))throw new q("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${o},`,`got ${JSON.stringify(i)}`],e);if(i.length===0)throw new q("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${o},`,`got ${JSON.stringify(i)}`],e);return typeof i=="string"&&(i=C.from(i,e.encoding)),i}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&n.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&n.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(n.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(n.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(n.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(n.to_line)}`);return e},xi=function(n){return n.every(e=>e==null||e.toString&&e.toString().trim()==="")},e0=13,n0=10,Qt={utf8:C.from([239,187,191]),utf16le:C.from([255,254])},r0=function(n={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},r=vi(n);return{info:e,original_options:n,options:r,state:Kd(r),__needMoreData:function(i,o,a){if(a)return!1;const{encoding:s,escape:u,quote:f}=this.options,{quoting:l,needMoreDataSize:h,recordDelimiterMaxLength:c}=this.state,d=o-i-1,p=Math.max(h,c===0?C.from(`\r
`,s).length:c,l?(u===null?0:u.length)+f.length:0,l?f.length+c:0);return d<p},parse:function(i,o,a,s){const{bom:u,comment_no_infix:f,encoding:l,from_line:h,ltrim:c,max_record_size:d,raw:p,relax_quotes:_,rtrim:m,skip_empty_lines:y,to:g,to_line:w}=this.options;let{comment:b,escape:v,quote:x,record_delimiter:S}=this.options;const{bomSkipped:E,previousBuf:k,rawBuffer:N,escapeIsQuote:M}=this.state;let I;if(k===void 0)if(i===void 0){s();return}else I=i;else k!==void 0&&i===void 0?I=k:I=C.concat([k,i]);if(E===!1)if(u===!1)this.state.bomSkipped=!0;else if(I.length<3){if(o===!1){this.state.previousBuf=I;return}}else{for(const A in Qt)if(Qt[A].compare(I,0,Qt[A].length)===0){const P=Qt[A].length;this.state.bufBytesStart+=P,I=I.slice(P),this.options=vi({...this.original_options,encoding:A}),{comment:b,escape:v,quote:x}=this.options;break}this.state.bomSkipped=!0}const D=I.length;let T;for(T=0;T<D&&!this.__needMoreData(T,D,o);T++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),w!==-1&&this.info.lines>w){this.state.stop=!0,s();return}this.state.quoting===!1&&S.length===0&&this.__autoDiscoverRecordDelimiter(I,T)&&(S=this.options.record_delimiter);const A=I[T];if(p===!0&&N.append(A),(A===e0||A===n0)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(v!==null&&this.state.quoting===!0&&this.__isEscape(I,T,A)&&T+v.length<D)if(M){if(this.__isQuote(I,T+v.length)){this.state.escaping=!0,T+=v.length-1;continue}}else{this.state.escaping=!0,T+=v.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(I,T))if(this.state.quoting===!0){const z=I[T+x.length],$=m&&this.__isCharTrimable(I,T+x.length),U=b!==null&&this.__compareBytes(b,I,T+x.length,z),L=this.__isDelimiter(I,T+x.length,z),j=S.length===0?this.__autoDiscoverRecordDelimiter(I,T+x.length):this.__isRecordDelimiter(z,I,T+x.length);if(v!==null&&this.__isEscape(I,T,A)&&this.__isQuote(I,T+v.length))T+=v.length-1;else if(!z||L||j||U||$){this.state.quoting=!1,this.state.wasQuoting=!0,T+=x.length-1;continue}else if(_===!1){const B=this.__error(new q("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(z)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(B!==void 0)return B}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(x),T+=x.length-1}else if(this.state.field.length!==0){if(_===!1){const z=this.__infoField(),$=Object.keys(Qt).map(L=>Qt[L].equals(this.state.field.toString())?L:!1).filter(Boolean)[0],U=this.__error(new q("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(z.column)} at line ${z.lines}, value is ${JSON.stringify(this.state.field.toString(l))}`,$?`(${$} bom)`:void 0],this.options,z,{field:this.state.field}));if(U!==void 0)return U}}else{this.state.quoting=!0,T+=x.length-1;continue}if(this.state.quoting===!1){const z=this.__isRecordDelimiter(A,I,T);if(z!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=h){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),T+=z-1;continue}if(y===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,T+=z-1;continue}this.info.bytes=this.state.bufBytesStart+T;const L=this.__onField();if(L!==void 0)return L;this.info.bytes=this.state.bufBytesStart+T+z;const j=this.__onRecord(a);if(j!==void 0)return j;if(g!==-1&&this.info.records>=g){this.state.stop=!0,s();return}}this.state.commenting=!1,T+=z-1;continue}if(this.state.commenting)continue;if(b!==null&&(f===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(b,I,T,A)!==0){this.state.commenting=!0;continue}const $=this.__isDelimiter(I,T,A);if($!==0){this.info.bytes=this.state.bufBytesStart+T;const U=this.__onField();if(U!==void 0)return U;T+=$-1;continue}}}if(this.state.commenting===!1&&d!==0&&this.state.record_length+this.state.field.length>d)return this.__error(new q("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${d}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const P=c===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(I,T),O=m===!1||this.state.wasQuoting===!1;if(P===!0&&O===!0)this.state.field.append(A);else{if(m===!0&&!this.__isCharTrimable(I,T))return this.__error(new q("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));P===!1&&(T+=this.__isCharTrimable(I,T)-1);continue}}if(o===!0)if(this.state.quoting===!0){const A=this.__error(new q("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(A!==void 0)return A}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+T;const A=this.__onField();if(A!==void 0)return A;const P=this.__onRecord(a);if(P!==void 0)return P}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=T,this.state.previousBuf=I.slice(T);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(i){const{columns:o,group_columns_by_name:a,encoding:s,info:u,from:f,relax_column_count:l,relax_column_count_less:h,relax_column_count_more:c,raw:d,skip_records_with_empty_values:p}=this.options,{enabled:_,record:m}=this.state;if(_===!1)return this.__resetRecord();const y=m.length;if(o===!0){if(p===!0&&xi(m)){this.__resetRecord();return}return this.__firstLineToColumns(m)}if(o===!1&&this.info.records===0&&(this.state.expectedRecordLength=y),y!==this.state.expectedRecordLength){const g=o===!1?new q("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${y} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m}):new q("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${o.length},`,`got ${y} on line ${this.info.lines}`],this.options,this.__infoField(),{record:m});if(l===!0||h===!0&&y<this.state.expectedRecordLength||c===!0&&y>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=g;else{const w=this.__error(g);if(w)return w}}if(p===!0&&xi(m)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,f===1||this.info.records>=f){const{objname:g}=this.options;if(o!==!1){const w={};for(let b=0,v=m.length;b<v;b++)o[b]===void 0||o[b].disabled||(a===!0&&w[o[b].name]!==void 0?Array.isArray(w[o[b].name])?w[o[b].name]=w[o[b].name].concat(m[b]):w[o[b].name]=[w[o[b].name],m[b]]:w[o[b].name]=m[b]);if(d===!0||u===!0){const b=Object.assign({record:w},d===!0?{raw:this.state.rawBuffer.toString(s)}:{},u===!0?{info:this.__infoRecord()}:{}),v=this.__push(g===void 0?b:[w[g],b],i);if(v)return v}else{const b=this.__push(g===void 0?w:[w[g],w],i);if(b)return b}}else if(d===!0||u===!0){const w=Object.assign({record:m},d===!0?{raw:this.state.rawBuffer.toString(s)}:{},u===!0?{info:this.__infoRecord()}:{}),b=this.__push(g===void 0?w:[m[g],w],i);if(b)return b}else{const w=this.__push(g===void 0?m:[m[g],m],i);if(w)return w}}this.__resetRecord()},__firstLineToColumns:function(i){const{firstLineToHeaders:o}=this.state;try{const a=o===void 0?i:o.call(null,i);if(!Array.isArray(a))return this.__error(new q("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(a)}`],this.options,this.__infoField(),{headers:a}));const s=qo(a);this.state.expectedRecordLength=s.length,this.options.columns=s,this.__resetRecord();return}catch(a){return a}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:i,encoding:o,rtrim:a,max_record_size:s}=this.options,{enabled:u,wasQuoting:f}=this.state;if(u===!1)return this.__resetField();let l=this.state.field.toString(o);if(a===!0&&f===!1&&(l=l.trimRight()),i===!0){const[h,c]=this.__cast(l);if(h!==void 0)return h;l=c}this.state.record.push(l),s!==0&&typeof l=="string"&&(this.state.record_length+=l.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(i,o){const{on_record:a}=this.options;if(a!==void 0){const s=this.__infoRecord();try{i=a.call(null,i,s)}catch(u){return u}if(i==null)return}o(i)},__cast:function(i){const{columns:o,relax_column_count:a}=this.options;if(Array.isArray(o)===!0&&a&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const u=this.__infoField();return[void 0,this.state.castField.call(null,i,u)]}catch(u){return[u]}if(this.__isFloat(i))return[void 0,parseFloat(i)];if(this.options.cast_date!==!1){const u=this.__infoField();return[void 0,this.options.cast_date.call(null,i,u)]}return[void 0,i]},__isCharTrimable:function(i,o){return((s,u)=>{const{timchars:f}=this.state;t:for(let l=0;l<f.length;l++){const h=f[l];for(let c=0;c<h.length;c++)if(h[c]!==s[u+c])continue t;return h.length}return 0})(i,o)},__isFloat:function(i){return i-parseFloat(i)+1>=0},__compareBytes:function(i,o,a,s){if(i[0]!==s)return 0;const u=i.length;for(let f=1;f<u;f++)if(i[f]!==o[a+f])return 0;return u},__isDelimiter:function(i,o,a){const{delimiter:s,ignore_last_delimiters:u}=this.options;if(u===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(u!==!1&&typeof u=="number"&&this.state.record.length===u-1)return 0;t:for(let f=0;f<s.length;f++){const l=s[f];if(l[0]===a){for(let h=1;h<l.length;h++)if(l[h]!==i[o+h])continue t;return l.length}}return 0},__isRecordDelimiter:function(i,o,a){const{record_delimiter:s}=this.options,u=s.length;t:for(let f=0;f<u;f++){const l=s[f],h=l.length;if(l[0]===i){for(let c=1;c<h;c++)if(l[c]!==o[a+c])continue t;return l.length}}return 0},__isEscape:function(i,o,a){const{escape:s}=this.options;if(s===null)return!1;const u=s.length;if(s[0]===a){for(let f=0;f<u;f++)if(s[f]!==i[o+f])return!1;return!0}return!1},__isQuote:function(i,o){const{quote:a}=this.options;if(a===null)return!1;const s=a.length;for(let u=0;u<s;u++)if(a[u]!==i[o+u])return!1;return!0},__autoDiscoverRecordDelimiter:function(i,o){const{encoding:a}=this.options,s=[C.from(`\r
`,a),C.from(`
`,a),C.from("\r",a)];t:for(let u=0;u<s.length;u++){const f=s[u].length;for(let l=0;l<f;l++)if(s[u][l]!==i[o+l])continue t;return this.options.record_delimiter.push(s[u]),this.state.recordDelimiterMaxLength=s[u].length,s[u].length}return 0},__error:function(i){const{encoding:o,raw:a,skip_records_with_error:s}=this.options,u=typeof i=="string"?new Error(i):i;if(s){if(this.state.recordHasError=!0,this.options.on_skip!==void 0)try{this.options.on_skip(u,a?this.state.rawBuffer.toString(o):void 0)}catch(f){return f}return}else return u},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:i,raw:o,encoding:a}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:i===!0,index:this.state.record.length,raw:o?this.state.rawBuffer.toString(a):void 0}},__infoField:function(){const{columns:i}=this.options,o=Array.isArray(i);return{...this.__infoRecord(),column:o===!0?i.length>this.state.record.length?i[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},i0=function(n,e={}){typeof n=="string"&&(n=C.from(n));const r=e&&e.objname?{}:[],i=r0(e),o=u=>{i.options.objname===void 0?r.push(u):r[u[0]]=u[1]},a=()=>{},s=i.parse(n,!0,o,a);if(s!==void 0)throw s;return r},Sn=n=>n.split("").reduce(function(e,r){return e=(e<<5)-e+r.charCodeAt(0),Math.abs(e&e)},0),o0=n=>{const e={},r={};n.forEach(o=>{o.nodePairId=o.source<=o.target?o.source+"_"+o.target:o.target+"_"+o.source;let a=o.source===o.target?e:r;a[o.nodePairId]||(a[o.nodePairId]=[]),a[o.nodePairId].push(o)}),Object.keys(e).forEach(o=>{let a=e[o],s=a.length-1;a[s].curvature=1;let u=(1-.1)/s;for(let f=0;f<s;f++)a[f].curvature=.1+f*u}),Object.keys(r).filter(o=>r[o].length>1).forEach(o=>{let a=r[o],s=a.length-1,u=a[s];u.curvature=.1;let f=2*.1/s;for(let l=0;l<s;l++)a[l].curvature=-.1+l*f,u.source!==a[l].source&&(a[l].curvature*=-1)})},a0=async()=>{const n=await fetch("./collation.csv"),e=i0(await n.text()),r=e.map(d=>d.shift()),i=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],o=[];for(let d=0;d<e[0].length;d++){const p=new Map;for(const _ of e)if(_[d]){const m=p.get(_[d])||0;p.set(_[d],m+1)}o.push([...p])}const a=(d,p)=>{for(let _=p+1;_<d.length;_++)if(d[_]!=="")return d[_]},s=[];for(let d=0;d<r.length;d++){const p=r[d],_=i[d],m=e[d];for(let y=0;y<m.length-1;y++){if(m[y]==="")continue;const g=a(m,y);g&&s.push({id:`${p}${y}`,siglum:p,colour:_,source:Sn(m[y]),target:Sn(g)})}}const u=[];for(let d=0;d<o.length;d++)for(const p of o[d])u.push({name:p[0],id:Sn(p[0]),size:p[1],color:"rgba(255,255,255,0.9)",level:d});o0(s),s.forEach(d=>{const p=u.find(m=>m.id===d.source),_=u.find(m=>m.id===d.target);p.hasOwnProperty("neighbors")||(p.neighbors=[]),_.hasOwnProperty("neighbors")||(_.neighbors=[]),p.neighbors.push(_),_.neighbors.push(p),p.hasOwnProperty("links")||(p.links=[]),_.hasOwnProperty("links")||(_.links=[]),p.links.push(d),_.links.push(d)});const f=new Set,l=new Set,h=100;new cd(document.getElementById("graph")).dagMode("lr").dagLevelDistance(250).backgroundColor("#101020").linkColor(d=>d.colour).linkWidth(d=>l.has(d)?5:1).linkLabel("siglum").nodeRelSize(h).nodeCanvasObjectMode(()=>"replace").nodeCanvasObject((d,p,_)=>{if(f.size>0&&!f.has(d))return;const m=d.name,y=12/_*(d.size/4+.5);p.font=`${y}px Sans-Serif`;const w=[p.measureText(m).width,y].map(b=>b+y*.2);p.fillStyle="rgba(0,0,0, 0.5)",p.fillRect(d.x-w[0]/2,d.y-w[1]/2,...w),p.textAlign="center",p.textBaseline="middle",p.fillStyle=d.color,p.fillText(m,d.x,d.y),d.__bckgDimensions=w}).nodePointerAreaPaint((d,p,_)=>{_.fillStyle=p;const m=d.__bckgDimensions;m&&_.fillRect(d.x-m[0]/2,d.y-m[1]/2,...m)}).nodeVal(d=>d.x-d._bckgDimensions[0]/2).linkDirectionalParticles(2).linkDirectionalParticleWidth(d=>l.size?l.has(d)?15:0:4).linkCurvature("curvature").d3Force("collision",pd(d=>d.__bckgDimensions[1]+h)).d3Force("link",_d().strength(0)).d3VelocityDecay(.2).graphData({nodes:u,links:s}).onNodeHover(d=>{f.clear(),l.clear(),d&&(f.add(d),d.neighbors.forEach(p=>f.add(p)),d.links.forEach(p=>l.add(p)))}).onLinkHover(d=>{if(f.clear(),l.clear(),d){l.add(d);for(const p of s)p.siglum===d.siglum&&l.add(p);f.add(d.source),f.add(d.target);for(const p of u)for(const _ of p.links)if(_.siglum===d.siglum){f.add(p);break}}})};a0();
